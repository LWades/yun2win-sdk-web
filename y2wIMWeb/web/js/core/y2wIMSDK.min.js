(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.y2wIM=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(f,g,e){(function(s,x){var h=f("events"),r=f("./store"),i=f("end-of-stream"),y=f("mqtt-packet"),k=f("readable-stream").Writable,q=f("inherits"),u=f("reinterval"),B=x.setImmediate||function(D){s.nextTick(D)},l={keepalive:5*60,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1000,connectTimeout:10*1000,clean:true};function n(){return"0"+w()}function w(){var D=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(D()+D()+"-"+D()+"-"+D()+"-"+D()+"-"+D()+D()+D())}function p(E,H,D){try{var F=y.generate(H);if(!E.stream.write(F)&&D){E.stream.once("drain",D)}else{if(D){D()}}}catch(G){if(D){D(G)}else{E.emit("error",G)}}}function t(E,G,D){E.outgoingStore.put(G,function F(H){if(H){return D&&D(H)}p(E,G,D)})}function j(){}var z=function(D){switch(D){case y2wIM.connectionReturnCode.uidIsInvalid:console.error("disconnected: uid is invalid");break;case y2wIM.connectionReturnCode.tokenIsInvalid:console.error("disconnected: token is invalid");break;case y2wIM.connectionReturnCode.tokenHasExpired:console.error("disconnected: token has expired");break;case y2wIM.connectionReturnCode.kicked:console.warn("disconnected: another divice has connected");break}};var v=function(D,E){switch(D){case y2wIM.connectionStatus.connecting:console.log("connecting");break;case y2wIM.connectionStatus.connected:console.log("connected");break;case y2wIM.connectionStatus.reconnecting:console.log("reconnecting("+E+")");break;case y2wIM.connectionStatus.networkDisconnected:console.warn("unable to connect to the network");break;case y2wIM.connectionStatus.disconnected:z(E);break;default:break}};function C(D){addEventListener("online",function(){D.networkDisconnected=false;console.warn("connect to the network");D._setupReconnect()});addEventListener("offline",function(){D.onConnectionStatusChanged(y2wIM.connectionStatus.networkDisconnected);D.networkDisconnected=true;D._cleanUp(true)})}function o(G,E){var D,F=this;if(!(this instanceof o)){return new o(G,E)}this.options=E||{};for(D in l){if("undefined"===typeof this.options[D]){this.options[D]=l[D]}else{this.options[D]=E[D]}}this.options.clientId="0"+n();this.streamBuilder=G;this.outgoingStore=this.options.outgoingStore||new r();this.incomingStore=this.options.incomingStore||new r();this.pingTimer=null;this.connected=false;this.disconnecting=false;this.networkDisconnected=false;this.queue=[];this.connackTimer=null;this.reconnectFlag=false;this.reconnectTimer=null;this.reconnectingTimes=0;this.allowReconnect=true;this.sendQueue={};this.sendTimeout=10*1000;this.nextId=Math.floor(Math.random()*65535);this.outgoing={};this.onConnectionStatusChanged=this.options.onConnectionStatusChanged||v;this.onConnectionStatusChanged(y2wIM.connectionStatus.connecting,{region:E.region});C(this);this.on("connect",function(){this.connected=true;this.reconnectFlag=true;this.reconnectingTimes=0;this.onConnectionStatusChanged(y2wIM.connectionStatus.connected);var H=null;H=this.outgoingStore.createStream();H.once("readable",function(){function I(){var K=H.read(1),J;if(!K){return}if(!F.disconnecting&&!F.reconnectTimer&&(0<F.options.reconnectPeriod)){H.read(0);J=F.outgoing[K.messageId];F.outgoing[K.messageId]=function(){if(J){J()}I()};F._sendPacket(K)}else{if(H.destroy){H.destroy()}}}I()}).on("error",this.emit.bind(this,"error"))});this.on("error",function(H){this.connected=false;if(this.onConnectionStatusChanged){switch(H){case 2:console.error("clientId is invalid!");this.allowReconnect=false;break;case 3:console.error("unacceptable protocol version!");this.allowReconnect=false;break;case 4:console.error("uid is invalid!");this.allowReconnect=false;break;case 5:this.onConnectionStatusChanged(y2wIM.connectionStatus.disconnected,y2wIM.connectionReturnCode.tokenIsInvalid);this.allowReconnect=false;break;case 6:this.onConnectionStatusChanged(y2wIM.connectionStatus.disconnected,y2wIM.connectionReturnCode.tokenHasExpired);this.allowReconnect=false;break;case 7:console.error("authenticate server error, reconnect!");break;case 10:this.end();this.onConnectionStatusChanged(y2wIM.connectionStatus.disconnected,y2wIM.connectionReturnCode.kicked);this.allowReconnect=false;break;case 99:console.error("server unavailable, reconnect!");break;default:console.log("server internal error:"+H+", reconnect!");break}}});this.on("close",function(){this.connected=false;clearTimeout(this.connackTimer)});this.on("connect",this._setupPingTimer);this.on("connect",function(){var H=this.queue;function I(){var J=H.shift(),K=null;if(!J){return}K=J.packet;F._sendPacket(K,function(L){if(J.cb){J.cb(L)}I()})}I()});this.on("close",function(){if(null!==F.pingTimer){F.pingTimer.clear();F.pingTimer=null}});this.on("close",this._setupReconnect);h.EventEmitter.call(this);this._setupStream()}q(o,h.EventEmitter);o.prototype._setupStream=function(){var D,G=this,F=new k(),J=y.parser(this.options),E=null,I=[];this._clearReconnect();this.stream=this.streamBuilder(this);J.on("packet",function(K){I.push(K)});function H(){var L=I.shift(),K=E;if(L){G._handlePacket(L,H)}else{E=null;K()}}F._write=function(M,L,K){E=K;J.parse(M);H()};this.stream.pipe(F);this.stream.on("error",j);i(this.stream,this.emit.bind(this,"close"));D=Object.create(this.options);D.cmd="connect";p(this,D);J.on("error",this.emit.bind(this,"error"));this.stream.setMaxListeners(1000);clearTimeout(this.connackTimer);this.connackTimer=setTimeout(function(){G._cleanUp(true)},this.options.connectTimeout)};o.prototype._handlePacket=function(E,D){switch(E.cmd){case"publish":this._handlePublish(E,D);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(E);D();break;case"pubrel":this._handlePubrel(E,D);break;case"connack":this._handleConnack(E);D();break;case"pingresp":this._handlePingresp(E);D();break;default:break}};o.prototype._checkDisconnecting=function(D){if(this.disconnecting){if(D){D(new Error("client disconnecting"))}else{this.emit(new Error("client disconnecting"))}}return this.disconnecting};o.sendQueue=function(G,E,H,F){this.session=G;this.message=E;this.sendback=H;var D=this;this.timer=setTimeout(function(){if(D.sendback&&D.sendback.onFailure){D.sendback.onFailure(y2wIM.sendReturnCode.timeout,D.session,D.message)}},F)};o.prototype.addSendQueue=function(E,G,F,H){var D=this.sendQueue[E];if(D&&D.timer){clearTimeout(D.timer)}this.sendQueue[E]=new o.sendQueue(G,F,H,this.sendTimeout)};o.prototype.getSendQueue=function(D){return this.sendQueue[D]};o.prototype.removeSendQueue=function(D){delete this.sendQueue[D]};o.prototype.sendMessageCheck=function(E,D,F){if(!E){F.onFailure(y2wIM.sendReturnCode.sessionIsInvalid,E,D);return false}if(!E.id){F.onFailure(y2wIM.sendReturnCode.sessionIdIsInvalid,E,D);return false}if(!E.mts||typeof E.mts!=="number"){F.onFailure(y2wIM.sendReturnCode.sessionMTSIsInvalid,E,D);return false}return true};o.prototype.updateSessionCheck=function(D,E){if(!D){E.onFailure(y2wIM.sendReturnCode.sessionIsInvalid,D);return false}if(!D.id){E.onFailure(y2wIM.sendReturnCode.sessionIdIsInvalid,D);return false}if(!D.mts||typeof D.mts!=="number"){E.onFailure(y2wIM.sendReturnCode.sessionMTSIsInvalid,D);return false}if(!D.members||toString.apply(D.members)!=="[object Array]"){E.onFailure(y2wIM.sendReturnCode.sessionMembersIsInvalid,D);return false}return true};var m={onSuccess:function(){console.log("send success")},onFailure:function(D){switch(D){case y2wIM.sendReturnCode.sessionIsInvalid:console.error("send error: session is invalid");break;case y2wIM.sendReturnCode.sessionIdIsInvalid:console.error("send error: session.id is invalid");break;case y2wIM.sendReturnCode.sessionMTSIsInvalid:console.error("send error: session.mts is invalid");break;case y2wIM.sendReturnCode.cmdIsInvalid:console.error("send error: cmd is invalid");break;case y2wIM.sendReturnCode.invalidFormatOfJSONContent:console.error("send error: send content's format is not a valid json");break;case y2wIM.sendReturnCode.sessionMembersIsNull:console.error("send error: session.members is not null");break;case y2wIM.sendReturnCode.sessionOnServerIsNotExist:console.error("send error: session on server is not exist");break;case y2wIM.sendReturnCode.sessionMTSOnClientHasExpired:console.error("send error: session mts on client has expired");break;case y2wIM.sendReturnCode.sessionMTSOnServerHasExpired:console.error("send error: session mts on server has expired");break}}};var A={onSuccess:function(){console.log("update session success")},onFailure:function(D){switch(D){case y2wIM.sendReturnCode.sessionIsInvalid:console.error("update session error: session is invalid");break;case y2wIM.sendReturnCode.sessionIdIsInvalid:console.error("update session error: session.id is invalid");break;case y2wIM.sendReturnCode.sessionMTSIsInvalid:console.error("update session error: session.mts is invalid");break;case y2wIM.sendReturnCode.cmdIsInvalid:console.error("update session error: cmd is invalid");break;case y2wIM.sendReturnCode.invalidFormatOfJSONContent:console.error("send error: send content's format is not a valid json");break;case y2wIM.sendReturnCode.sessionMTSOnClientHasExpired:console.error("update session error: session mts on client has expired");break}}};o.prototype.updateSession=function(J,L,K){K=K||A;if(!this.updateSessionCheck(J,K)){return}var G=[];for(var H=0;H<J.members.length;H++){if(J.members[H].uid){G.push({uid:J.members[H].uid,isDel:J.members[H].isDel})}}var F={cmd:"updateSession",y2wMessageId:w(),mts:J.mts,members:G,force:J.force,message:L};var E;var I="y2w/session/"+J.id;var D={qos:0,retain:false};if(this._checkDisconnecting(K)){return this}E={cmd:"publish",topic:I,payload:JSON.stringify(F),qos:D.qos,retain:D.retain,messageId:this._nextId()};if(K){this.addSendQueue(F.y2wMessageId,J,L,K)}this._sendPacket(E,function(M){if(M){if(K&&K.onFailure){K.onFailure(M)}else{console.log(M)}}});return this};o.prototype.sendMessage=function(I,G,J){J=J||m;if(!this.sendMessageCheck(I,G,J)){return}var E={cmd:"sendMessage",y2wMessageId:w(),mts:I.mts,message:G};var H;var D="y2w/session/"+I.id;var F={qos:0,retain:false};if(this._checkDisconnecting(J)){return this}H={cmd:"publish",topic:D,payload:JSON.stringify(E),qos:F.qos,retain:F.retain,messageId:this._nextId()};if(J){this.addSendQueue(E.y2wMessageId,I,G,J)}this._sendPacket(H,function(K){if(K){if(J&&J.onFailure){J.onFailure(K)}else{console.log(K)}}});return this};o.prototype.publish=function(D,F,E,H){var G;if("function"===typeof E){H=E;E=null}if(!E){E={qos:0,retain:false}}if(this._checkDisconnecting(H)){return this}G={cmd:"publish",topic:D,payload:F,qos:E.qos,retain:E.retain,messageId:this._nextId()};switch(E.qos){case 1:case 2:this.outgoing[G.messageId]=H||j;this._sendPacket(G);break;default:this._sendPacket(G,H);break}return this};o.prototype.subscribe=function(){var H,D=Array.prototype.slice.call(arguments),E=[],G=D.shift(),I=D.pop()||j,F=D.pop();if("string"===typeof G){G=[G]}if("function"!==typeof I){F=I;I=j}if(this._checkDisconnecting(I)){return this}if(!F){F={qos:0}}if(Array.isArray(G)){G.forEach(function(J){E.push({topic:J,qos:F.qos})})}else{Object.keys(G).forEach(function(J){E.push({topic:J,qos:G[J]})})}H={cmd:"subscribe",subscriptions:E,qos:1,retain:false,dup:false,messageId:this._nextId()};this.outgoing[H.messageId]=I;this._sendPacket(H);return this};o.prototype.unsubscribe=function(D,F){var E={cmd:"unsubscribe",qos:1,messageId:this._nextId()};F=F||j;if(this._checkDisconnecting(F)){return this}if("string"===typeof D){E.unsubscriptions=[D]}else{if("object"===typeof D&&D.length){E.unsubscriptions=D}}this.outgoing[E.messageId]=F;this._sendPacket(E);return this};o.prototype.end=function(H,D){var G=this;if("function"===typeof H){D=H;H=false}function E(){G.incomingStore.close(function(){G.outgoingStore.close(D)})}function F(){G._cleanUp(H,E)}if(this.disconnecting){return true}this.disconnecting=true;F();return this};o.prototype.disconnect=function(D){D=D||j;this.end(false,D)};o.prototype._reconnect=function(){this.reconnectingTimes++;if(this.reconnectFlag){this.options.clientId="1"+this.options.clientId.substring(1)}console.log("reconnecting:"+this.options.clientId);this.onConnectionStatusChanged(y2wIM.connectionStatus.reconnecting,this.reconnectingTimes);this.emit("reconnect");this._setupStream()};o.prototype.reconnect=function(D){this.options.password=D;this._reconnect()};o.prototype._setupReconnect=function(){var D=this;if(D.allowReconnect&&!D.networkDisconnected&&!D.disconnecting&&!D.reconnectTimer&&(0<D.options.reconnectPeriod)){this.emit("offline");D.reconnectTimer=setInterval(function(){D._reconnect()},D.options.reconnectPeriod)}};o.prototype._clearReconnect=function(){if(this.reconnectTimer){clearInterval(this.reconnectTimer);this.reconnectTimer=false}};o.prototype._cleanUp=function(E,D){if(D){this.stream.on("close",D)}if(E){this.stream.destroy()}else{this._sendPacket({cmd:"disconnect"},B.bind(null,this.stream.end.bind(this.stream)))}if(this.reconnectTimer){this._clearReconnect();this._setupReconnect()}if(null!==this.pingTimer){this.pingTimer.clear();this.pingTimer=null}};o.prototype._sendPacket=function(E,D){if(!this.connected){return this.queue.push({packet:E,cb:D})}this._shiftPingInterval();switch(E.qos){case 2:case 1:t(this,E,D);break;case 0:default:p(this,E,D);break}};o.prototype._setupPingTimer=function(){var D=this;if(!this.pingTimer&&this.options.keepalive){this.pingResp=true;this.pingTimer=u(function(){D._checkPing()},this.options.keepalive*1000)}};o.prototype._shiftPingInterval=function(){if(this.pingTimer&&this.options.keepalive){this.pingTimer.reschedule(this.options.keepalive*1000)}};o.prototype._checkPing=function(){if(this.pingResp){this.pingResp=false;this._sendPacket({cmd:"pingreq"})}else{this._cleanUp(true)}};o.prototype._handlePingresp=function(){this.pingResp=true};o.prototype._handleConnack=function(E){var D=E.returnCode;clearTimeout(this.connackTimer);if(0<D){this.emit("error",D)}};o.prototype._handlePublish=function(J,D){var F=J.topic.toString(),I=J.payload,H=J.qos,E=J.messageId,G=this;switch(H){case 2:this.incomingStore.put(J,function(){G._sendPacket({cmd:"pubrec",messageId:E},D)});break;case 1:this._sendPacket({cmd:"puback",messageId:E});case 0:this.handleMessage(J,D);break;default:break}};o.prototype.handleMessage=function(G,H){var F=JSON.parse(G.payload.toString());var E=this.getSendQueue(F.y2wMessageId);if(E){clearTimeout(E.timer);var D=F.returnCode;if(D==y2wIM.sendReturnCode.success){E.sendback.onSuccess(E.session,E.message)}else{switch(D){case y2wIM.sendReturnCode.cmdIsInvalid:E.sendback.onFailure(y2wIM.sendReturnCode.cmdIsInvalid,E.session,E.message);break;case y2wIM.sendReturnCode.invalidFormatOfJSONContent:E.sendback.onFailure(y2wIM.sendReturnCode.invalidFormatOfJSONContent,E.session,E.message);break;case y2wIM.sendReturnCode.sessionMembersIsNull:E.sendback.onFailure(y2wIM.sendReturnCode.sessionMembersIsNull,E.session,E.message);break;case y2wIM.sendReturnCode.sessionOnServerIsNotExist:E.sendback.onFailure(y2wIM.sendReturnCode.sessionOnServerIsNotExist,E.session,E.message);break;case y2wIM.sendReturnCode.sessionMTSOnClientHasExpired:E.sendback.onFailure(y2wIM.sendReturnCode.sessionMTSOnClientHasExpired,E.session,E.message,F.mts);break;case y2wIM.sendReturnCode.sessionMTSOnServerHasExpired:E.sendback.onFailure(y2wIM.sendReturnCode.sessionMTSOnServerHasExpired,E.session,E.message,F.mts);break}}this.removeSendQueue(F.y2wMessageId);E=null}else{if(F.returnCode==y2wIM.connectionReturnCode.acceptConnect){this.emit("connect")}else{if(F.returnCode==y2wIM.connectionReturnCode.kicked){this.end();this.onConnectionStatusChanged(y2wIM.connectionStatus.disconnected,y2wIM.connectionReturnCode.kicked)}else{this.emit("message",F)}}}H()};o.prototype._handleAck=function(I){var F=I.messageId,G=I.cmd,E=null,D=this.outgoing[F],H=this;if(!D){return}switch(G){case"pubcomp":case"puback":delete this.outgoing[F];this.outgoingStore.del(I,D);break;case"pubrec":E={cmd:"pubrel",qos:2,messageId:F};this._sendPacket(E);break;case"suback":delete this.outgoing[F];this.outgoingStore.del(I,function(N,M){var L,K=M.subscriptions,J=I.granted;if(N){return H.emit("error",N)}for(L=0;L<J.length;L+=1){K[L].qos=J[L]}D(null,K)});break;case"unsuback":delete this.outgoing[F];this.outgoingStore.del(I,D);break;default:H.emit("error",new Error("unrecognized packet type"))}if(this.disconnecting&&0===Object.keys(this.outgoing).length){this.emit("outgoingEmpty")}};o.prototype._handlePubrel=function(F,G){var D=F.messageId,E=this;E.incomingStore.get(F,function(I,H){if(I){return E.emit("error",I)}if("pubrel"!==H.cmd){E.emit("message",H.topic,H.payload,H);E.incomingStore.put(F)}E._sendPacket({cmd:"pubcomp",messageId:D},G)})};o.prototype._nextId=function(){var D=this.nextId++;if(65535===D){this.nextId=1}return D};g.exports=o}).call(this,f("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./store":5,_process:66,"end-of-stream":7,events:62,inherits:10,"mqtt-packet":13,"readable-stream":26,reinterval:27}],2:[function(f,g,e){var i=f("net");function h(j,m){var k,l;m.port=m.port||1883;m.hostname=m.hostname||m.host||"localhost";k=m.port;l=m.hostname;return i.createConnection(k,l)}g.exports=h},{net:57}],3:[function(f,g,e){var i=f("tls");function h(m,l){var k;l.port=l.port||8883;l.host=l.hostname||l.host||"localhost";l.rejectUnauthorized=false!==l.rejectUnauthorized;k=i.connect(l);k.on("secureConnect",function(){if(l.rejectUnauthorized&&!k.authorized){k.emit("error",new Error("TLS not authorized"))}else{k.removeListener("error",j)}});function j(n){if(l.rejectUnauthorized){m.emit("error",n)}k.end()}k.on("error",j);return k}g.exports=h},{tls:57}],4:[function(f,g,e){(function(l){var i=f("websocket-stream"),h=f("url");function k(m,r){var q={protocol:"mqttv3.1"},p=r.hostname||"localhost",n=String(r.port||80),s=r.path||"/",o=r.protocol+"://"+p+":"+n+s;if("wss"===r.protocol){if(r.hasOwnProperty("rejectUnauthorized")){q.rejectUnauthorized=r.rejectUnauthorized}}return i(o,q)}function j(p,o){var n,m;if("undefined"!==typeof(document)){m=h.parse(document.URL)}else{throw new Error("Could not determine host. Specify host manually.")}if(!o.protocol){if("https:"===m.protocol){o.protocol="wss"}else{o.protocol="ws"}}if(!o.hostname){o.hostname=o.host}if(!o.hostname){o.hostname=m.hostname;if(!o.port){o.port=m.port}}if(!o.port){if("wss"===o.protocol){o.port=443}else{o.port=80}}if(!o.path){o.path="/"}n=o.protocol+"://"+o.hostname+":"+o.port+o.path;return i(n,"mqttv3.1")}if("browser"!==l.title){g.exports=k}else{g.exports=j}}).call(this,f("_process"))},{_process:66,url:86,"websocket-stream":55}],5:[function(f,g,e){(function(k){var i=f("readable-stream").Readable,h={objectMode:true};function j(){if(!(this instanceof j)){return new j()}this._inflights={}}j.prototype.put=function(m,l){this._inflights[m.messageId]=m;if(l){l()}return this};j.prototype.createStream=function(){var p=new i(h),l=this._inflights,n=Object.keys(this._inflights),o=false,m=0;p._read=function(){if(!o&&m<n.length){this.push(l[n[m++]])}else{this.push(null)}};p.destroy=function(){if(o){return}var q=this;o=true;k.nextTick(function(){q.emit("close")})};return p};j.prototype.del=function(m,l){m=this._inflights[m.messageId];if(m){delete this._inflights[m.messageId];l(null,m)}else{if(l){l(new Error("missing packet"))}}return this};j.prototype.get=function(m,l){m=this._inflights[m.messageId];if(m){l(null,m)}else{if(l){l(new Error("missing packet"))}}return this};j.prototype.close=function(l){this._inflights=null;if(l){l()}};g.exports=j}).call(this,f("_process"))},{_process:66,"readable-stream":26}],6:[function(f,g,e){(function(s){var q=f("../client"),m=f("url"),r=f("xtend"),w={},i=[];if("browser"!==s.title){w.mqtt=f("./tcp");w.tcp=f("./tcp");w.ssl=f("./tls");w.tls=f("./tls");w.mqtts=f("./tls")}w.ws=f("./ws");w.wss=f("./ws");i=["mqtt","mqtts","ws","wss"];function j(z){var A;if(z.auth){A=z.auth.match(/^(.+):(.+)$/);if(A){z.username=A[1];z.password=A[2]}else{z.username=z.auth}}}var n={connecting:0,connected:1,reconnecting:2,networkDisconnected:3,disconnected:100};var t={identifierRejected:2,unacceptableProtocolVersion:3,uidIsInvalid:4,tokenIsInvalid:5,tokenHasExpired:6,authenticationServerError:7,kicked:10,acceptConnect:11,requestGateError:101,serverUnavailable:99,serverInternalError:100};var p={success:20,timeout:21,cmdIsInvalid:22,sessionIsInvalid:23,sessionIdIsInvalid:24,sessionMTSIsInvalid:25,sessionOnServerIsNotExist:26,sessionMTSOnClientHasExpired:27,sessionMTSOnServerHasExpired:28,sessionMembersIsInvalid:29,invalidFormatOfJSONContent:30,sessionMembersIsNull:31};var u;var x;var k;var y;var v;var o="http://imgate1.yun2win.com/gateHandler";function l(A,z){A=A||"";if(!v){$.ajax({url:o,type:"POST",data:{oper:"register",country:A},dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(B){z(null,B.data)},error:function(B){z(B)}})}else{z(null,{region:k,url:y})}}function h(B,z){B=B||{};if(!B.appKey||"string"!==typeof B.appKey&&B.appKey.length){if(B.onConnectionStatusChanged){B.onConnectionStatusChanged(y2wIM.connectionStatus.disconnected,y2wIM.connectionReturnCode.appKeyIsInvalid)}else{console.error("disconnected: appkey is invalid")}return}if(B.uid&&"string"===typeof B.uid&&B.uid.length){B.username=B.uid}else{if(B.onConnectionStatusChanged){B.onConnectionStatusChanged(y2wIM.connectionStatus.disconnected,y2wIM.connectionReturnCode.uidIsInvalid)}else{console.error("disconnected: uid is invalid")}return}if(B.token&&"string"===typeof B.token&&B.token.length){B.password=B.token}else{if(B.onConnectionStatusChanged){B.onConnectionStatusChanged(y2wIM.connectionStatus.disconnected,y2wIM.connectionReturnCode.tokenIsInvalid)}else{console.error("disconnected: token is invalid")}return}var A=this;l(B.country,function(E,F){if(E||!F){console.error("disconnected: request gate error");setTimeout(function(){A.connect(B,z)},5*1000);return}k=F.region;B.region=F.region;y=F.url;v="mqtt://"+y+":80";if(v){B=r(m.parse(v,true),B);B.protocol=B.protocol.replace(/\:$/,"")}if(B.cert&&B.key){if(B.protocol){if(-1===["mqtts","wss"].indexOf(B.protocol)){switch(B.protocol){case"mqtt":B.protocol="mqtts";break;case"ws":B.protocol="wss";break;default:throw new Error('Unknown protocol for secure conenction: "'+B.protocol+'"!');break}}}else{throw new Error("Missing secure protocol key")}}if(!w[B.protocol]){B.protocol=i.filter(function(G){return"function"===typeof w[G]})[0]}var D=new q(C,B);D.on("message",function(G){B.onMessage(G)});z(D)});function C(D){if(B.servers){if(!D._reconnectCount||D._reconnectCount===B.servers.length){D._reconnectCount=0}B.host=B.servers[D._reconnectCount].host;B.port=B.servers[D._reconnectCount].port;D._reconnectCount++}return w[B.protocol](D,B)}}h.connectionStatus=n;h.connectionReturnCode=t;h.sendReturnCode=p;g.exports=h;g.exports.connect=h}).call(this,f("_process"))},{"../client":1,"./tcp":2,"./tls":3,"./ws":4,_process:66,url:86,xtend:56}],7:[function(f,g,e){var h=f("once");var j=function(){};var l=function(m){return m.setHeader&&typeof m.abort==="function"};var i=function(m){return m.stdio&&Array.isArray(m.stdio)&&m.stdio.length===3};var k=function(w,m,v){if(typeof m==="function"){return k(w,null,m)}if(!m){m={}}v=h(v||j);var q=w._writableState;var n=w._readableState;var p=m.readable||(m.readable!==false&&w.readable);var t=m.writable||(m.writable!==false&&w.writable);var u=function(){if(!w.writable){o()}};var o=function(){t=false;if(!p){v()}};var y=function(){p=false;if(!t){v()}};var r=function(z){v(z?new Error("exited with error code: "+z):null)};var x=function(){if(p&&!(n&&n.ended)){return v(new Error("premature close"))}if(t&&!(q&&q.ended)){return v(new Error("premature close"))}};var s=function(){w.req.on("finish",o)};if(l(w)){w.on("complete",o);w.on("abort",x);if(w.req){s()}else{w.on("request",s)}}else{if(t&&!q){w.on("end",u);w.on("close",u)}}if(i(w)){w.on("exit",r)}w.on("end",y);w.on("finish",o);if(m.error!==false){w.on("error",v)}w.on("close",x);return function(){w.removeListener("complete",o);w.removeListener("abort",x);w.removeListener("request",s);if(w.req){w.req.removeListener("finish",o)}w.removeListener("end",u);w.removeListener("close",u);w.removeListener("finish",o);w.removeListener("exit",r);w.removeListener("end",y);w.removeListener("error",v);w.removeListener("close",x)}};g.exports=k},{once:9}],8:[function(f,g,e){g.exports=h;function h(j,i){if(j&&i){return h(j)(i)}if(typeof j!=="function"){throw new TypeError("need wrapper function")}Object.keys(j).forEach(function(l){k[l]=j[l]});return k;function k(){var n=new Array(arguments.length);for(var o=0;o<n.length;o++){n[o]=arguments[o]}var m=j.apply(this,n);var l=n[n.length-1];if(typeof m==="function"&&m!==l){Object.keys(l).forEach(function(p){m[p]=l[p]})}return m}}},{}],9:[function(f,g,e){var i=f("wrappy");g.exports=i(h);h.proto=h(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return h(this)},configurable:true})});function h(j){var k=function(){if(k.called){return k.value}k.called=true;return k.value=j.apply(this,arguments)};k.called=false;return k}},{wrappy:8}],10:[function(f,g,e){if(typeof Object.create==="function"){g.exports=function h(j,i){j.super_=i;j.prototype=Object.create(i.prototype,{constructor:{value:j,enumerable:false,writable:true,configurable:true}})}}else{g.exports=function h(j,i){j.super_=i;var k=function(){};k.prototype=i.prototype;j.prototype=new k();j.prototype.constructor=j}}},{}],11:[function(h,i,g){i.exports.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"};i.exports.codes={};for(var f in i.exports.types){var e=i.exports.types[f];i.exports.codes[e]=f}i.exports.CMD_SHIFT=4;i.exports.CMD_MASK=240;i.exports.DUP_MASK=8;i.exports.QOS_MASK=3;i.exports.QOS_SHIFT=1;i.exports.RETAIN_MASK=1;i.exports.LENGTH_MASK=127;i.exports.LENGTH_FIN_MASK=128;i.exports.SESSIONPRESENT_MASK=1;i.exports.USERNAME_MASK=128;i.exports.PASSWORD_MASK=64;i.exports.WILL_RETAIN_MASK=32;i.exports.WILL_QOS_MASK=24;i.exports.WILL_QOS_SHIFT=3;i.exports.WILL_FLAG_MASK=4;i.exports.CLEAN_SESSION_MASK=2},{}],12:[function(f,g,e){(function(j){var s=f("./constants"),p=new j(0);function u(B){switch(B.cmd){case"connect":return i(B);case"connack":return h(B);case"publish":return v(B);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return r(B);case"subscribe":return m(B);case"suback":return A(B);case"unsubscribe":return k(B);case"pingreq":case"pingresp":case"disconnect":return o(B);default:throw new Error("unknown command")}}function i(B){var B=B||{},K=B.protocolId||"MQTT",G=B.protocolVersion||4,J=B.will,L=B.clean,E=B.keepalive||0,C=B.clientId||"",I=B.username,N=B.password;if(L===undefined){L=true}var D=0;if(!K||(typeof K!=="string"&&!j.isBuffer(K))){throw new Error("Invalid protocol id")}else{D+=K.length+2}if(!G||"number"!==typeof G||G>255||G<0){throw new Error("Invalid protocol version")}else{D+=1}if((typeof C==="string"||j.isBuffer(C))&&(C||G==4)&&(C||L)){D+=C.length+2}else{if(G<4){throw new Error("clientId must be supplied before 3.1.1")}if(L==0){throw new Error("clientId must be given if cleanSession set to 0")}}if("number"!==typeof E||E<0||E>65535){throw new Error("Invalid keepalive")}else{D+=2}D+=1;if(J){if("object"!==typeof J){throw new Error("Invalid will")}if(!J.topic||"string"!==typeof J.topic){throw new Error("Invalid will topic")}else{D+=j.byteLength(J.topic)+2}if(J.payload&&J.payload){if(J.payload.length>=0){if("string"===typeof J.payload){D+=j.byteLength(J.payload)+2}else{D+=J.payload.length+2}}else{throw new Error("Invalid will payload")}}else{D+=2}}if(I){if(I.length){D+=j.byteLength(I)+2}else{throw new Error("Invalid username")}}if(N){if(N.length){D+=x(N)+2}else{throw new Error("Invalid password")}}var H=new j(1+t(D)+D),M=0;H.writeUInt8(s.codes.connect<<s.CMD_SHIFT,M++,true);M+=z(H,M,D);M+=l(H,M,K);H.writeUInt8(G,M++,true);var F=0;F|=I?s.USERNAME_MASK:0;F|=N?s.PASSWORD_MASK:0;F|=(J&&J.retain)?s.WILL_RETAIN_MASK:0;F|=(J&&J.qos)?J.qos<<s.WILL_QOS_SHIFT:0;F|=J?s.WILL_FLAG_MASK:0;F|=L?s.CLEAN_SESSION_MASK:0;H.writeUInt8(F,M++,true);M+=y(H,M,E);M+=l(H,M,C);if(J){M+=w(H,M,J.topic);M+=l(H,M,J.payload)}if(I){M+=l(H,M,I)}if(N){M+=l(H,M,N)}return H}function h(C){var C=C||{},D=C.returnCode;if("number"!==typeof D){throw new Error("Invalid return code")}var B=new j(4),E=0;B.writeUInt8(s.codes.connack<<s.CMD_SHIFT,E++,true);E+=z(B,E,2);B.writeUInt8(C.sessionPresent&&s.SESSIONPRESENT_MASK||0,E++,true);B.writeUInt8(D,E++,true);return B}function v(B){var B=B||{},D=B.dup?s.DUP_MASK:0,K=B.qos,H=B.retain?s.RETAIN_MASK:0,G=B.topic,J=B.payload||p,C=B.messageId;var E=0;if(typeof G==="string"){E+=j.byteLength(G)+2}else{if(j.isBuffer(G)){E+=G.length+2}else{throw new Error("Invalid topic")}}if(!j.isBuffer(J)){E+=j.byteLength(J)}else{E+=J.length}if(K&&"number"!==typeof C){throw new Error("Invalid message id")}else{if(K){E+=2}}var F=new j(1+t(E)+E),I=0;F.writeUInt8(s.codes.publish<<s.CMD_SHIFT|D|K<<s.QOS_SHIFT|H,I++,true);I+=z(F,I,E);I+=l(F,I,G);if(K>0){I+=y(F,I,C)}if(!j.isBuffer(J)){n(F,I,J)}else{q(F,I,J)}return F}function r(E){var E=E||{},C=E.cmd||"puback",H=E.messageId,F=(E.dup&&C==="pubrel")?s.DUP_MASK:0,D=0;if(C==="pubrel"){D=1}if("number"!==typeof H){throw new Error("Invalid message id")}var B=new j(4),G=0;B[G++]=s.codes[C]<<s.CMD_SHIFT|F|D<<s.QOS_SHIFT;G+=z(B,G,2);G+=y(B,G,H);return B}function m(C){var C=C||{},E=C.dup?s.DUP_MASK:0,L=C.qos||0,D=C.messageId,G=C.subscriptions;var F=0;if("number"!==typeof D){throw new Error("Invalid message id")}else{F+=2}if("object"===typeof G&&G.length){for(var I=0;I<G.length;I+=1){var J=G[I].topic,L=G[I].qos;if("string"!==typeof J){throw new Error("Invalid subscriptions - invalid topic")}if("number"!==typeof L){throw new Error("Invalid subscriptions - invalid qos")}F+=j.byteLength(J)+2+1}}else{throw new Error("Invalid subscriptions")}var H=new j(1+t(F)+F),K=0;H.writeUInt8(s.codes.subscribe<<s.CMD_SHIFT|E|1<<s.QOS_SHIFT,K++,true);K+=z(H,K,F);K+=y(H,K,D);for(var I=0;I<G.length;I++){var B=G[I],J=B.topic,L=B.qos;K+=w(H,K,J);H.writeUInt8(L,K++,true)}return H}function A(F){var F=F||{},H=F.messageId,C=F.granted;var E=0;if("number"!==typeof H){throw new Error("Invalid message id")}else{E+=2}if("object"===typeof C&&C.length){for(var D=0;D<C.length;D+=1){if("number"!==typeof C[D]){throw new Error("Invalid qos vector")}E+=1}}else{throw new Error("Invalid qos vector")}var B=new j(1+t(E)+E),G=0;B.writeUInt8(s.codes.suback<<s.CMD_SHIFT,G++,true);G+=z(B,G,E);G+=y(B,G,H);for(var D=0;D<C.length;D++){B.writeUInt8(C[D],G++,true)}return B}function k(E){var E=E||{},I=E.messageId,F=E.dup?s.DUP_MASK:0,H=E.unsubscriptions;var D=0;if("number"!==typeof I){throw new Error("Invalid message id")}else{D+=2}if("object"===typeof H&&H.length){for(var C=0;C<H.length;C+=1){if("string"!==typeof H[C]){throw new Error("Invalid unsubscriptions")}D+=j.byteLength(H[C])+2}}else{throw new Error("Invalid unsubscriptions")}var B=new j(1+t(D)+D),G=0;B[G++]=s.codes.unsubscribe<<s.CMD_SHIFT|F|1<<s.QOS_SHIFT;G+=z(B,G,D);G+=y(B,G,I);for(var C=0;C<H.length;C++){G+=w(B,G,H[C])}return B}function o(C){var B=new j(2);B[0]=s.codes[C.cmd]<<4;B[1]=0;return B}function t(B){if(B>=0&&B<128){return 1}else{if(B>=128&&B<16384){return 2}else{if(B>=16384&&B<2097152){return 3}else{if(B>=2097152&&B<268435456){return 4}else{return 0}}}}}function z(C,F,D){var E=0,B=F;do{E=D%128|0;D=D/128|0;if(D>0){E=E|128}C.writeUInt8(E,F++,true)}while(D>0);return F-B}function w(B,E,C){var D=j.byteLength(C);y(B,E,D);n(B,E+2,C);return D+2}function n(B,D,C){B.write(C,D)}function q(B,D,C){C.copy(B,D);return C.length}function y(B,D,C){B.writeUInt8(C>>8,D,true);B.writeUInt8(C&255,D+1,true);return 2}function l(C,E,D){var B=0;if(D&&typeof D==="string"){B+=w(C,E+B,D)}else{if(D){B+=y(C,E+B,D.length);B+=q(C,E+B,D)}else{B+=y(C,E+B,0)}}return B}function x(B){if(j.isBuffer(B)){return B.length}else{return j.byteLength(B)}}g.exports=u}).call(this,f("buffer").Buffer)},{"./constants":11,buffer:58}],13:[function(f,g,e){e.parser=f("./parser");e.generate=f("./generate")},{"./generate":12,"./parser":16}],14:[function(f,g,e){(function(k){var i=f("readable-stream/duplex"),h=f("util");function j(m){if(!(this instanceof j)){return new j(m)}this._bufs=[];this.length=0;if(typeof m=="function"){this._callback=m;var l=function(n){if(this._callback){this._callback(n);this._callback=null}}.bind(this);this.on("pipe",function(n){n.on("error",l)});this.on("unpipe",function(n){n.removeListener("error",l)})}else{if(k.isBuffer(m)){this.append(m)}else{if(Array.isArray(m)){m.forEach(function(n){k.isBuffer(n)&&this.append(n)}.bind(this))}}}i.call(this)}h.inherits(j,i);j.prototype._offset=function(o){var m=0,l=0,n;for(;l<this._bufs.length;l++){n=m+this._bufs[l].length;if(o<n){return[l,o-m]}m=n}};j.prototype.append=function(l){var m=k.isBuffer(l)||l instanceof j;this._bufs.push(m?l:new k(l));this.length+=l.length;return this};j.prototype._write=function(l,m,n){this.append(l);if(n){n()}};j.prototype._read=function(l){if(!this.length){return this.push(null)}l=Math.min(l,this.length);this.push(this.slice(0,l));this.consume(l)};j.prototype.end=function(l){i.prototype.end.call(this,l);if(this._callback){this._callback(null,this.slice());this._callback=null}};j.prototype.get=function(l){return this.slice(l,l+1)[0]};j.prototype.slice=function(m,l){return this.copy(null,0,m,l)};j.prototype.copy=function(u,w,q,v){if(typeof q!="number"||q<0){q=0}if(typeof v!="number"||v>this.length){v=this.length}if(q>=this.length){return u||new k(0)}if(v<=0){return u||new k(0)}var m=!!u,o=this._offset(q),t=v-q,x=t,s=(m&&w)||0,n=o[1],p,r;if(q===0&&v==this.length){if(!m){return k.concat(this._bufs)}for(r=0;r<this._bufs.length;r++){this._bufs[r].copy(u,s);s+=this._bufs[r].length}return u}if(x<=this._bufs[o[0]].length-n){return m?this._bufs[o[0]].copy(u,w,n,n+x):this._bufs[o[0]].slice(n,n+x)}if(!m){u=new k(t)}for(r=o[0];r<this._bufs.length;r++){p=this._bufs[r].length-n;if(x>p){this._bufs[r].copy(u,s,n)}else{this._bufs[r].copy(u,s,n,n+x);break}s+=p;x-=p;if(n){n=0}}return u};j.prototype.toString=function(m,n,l){return this.slice(n,l).toString(m)};j.prototype.consume=function(l){while(this._bufs.length){if(l>this._bufs[0].length){l-=this._bufs[0].length;this.length-=this._bufs[0].length;this._bufs.shift()}else{this._bufs[0]=this._bufs[0].slice(l);this.length-=l;break}}return this};j.prototype.duplicate=function(){var l=0,m=new j();for(;l<this._bufs.length;l++){m.append(this._bufs[l])}return m};j.prototype.destroy=function(){this._bufs.length=0;this.length=0;this.push(null)};(function(){var n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var l in n){(function(o){j.prototype[o]=function(m){return this.slice(m,m+n[o])[o](0)}}(l))}}());g.exports=j}).call(this,f("buffer").Buffer)},{buffer:58,"readable-stream/duplex":17,util:89}],15:[function(f,g,e){function h(){this.cmd=null;this.retain=false;this.qos=0;this.dup=false;this.length=-1;this.topic=null;this.payload=null}g.exports=h},{}],16:[function(g,e,i){var f=g("bl"),k=g("inherits"),m=g("events").EventEmitter,j=g("./packet"),l=g("./constants");function h(){if(!(this instanceof h)){return new h()}this._list=f();this._newPacket();this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"];this._stateCounter=0}k(h,m);h.prototype._newPacket=function(){if(this.packet){this._list.consume(this.packet.length);this.emit("packet",this.packet)}this.packet=new j();return true};h.prototype.parse=function(n){this._list.append(n);while((this.packet.length!=-1||this._list.length>0)&&this[this._states[this._stateCounter]]()){this._stateCounter++;if(this._stateCounter>=this._states.length){this._stateCounter=0}}return this._list.length};h.prototype._parseHeader=function(){var n=this._list.readUInt8(0);this.packet.cmd=l.types[n>>l.CMD_SHIFT];this.packet.retain=(n&l.RETAIN_MASK)!==0;this.packet.qos=(n>>l.QOS_SHIFT)&l.QOS_MASK;this.packet.dup=(n&l.DUP_MASK)!==0;this._list.consume(1);return true};h.prototype._parseLength=function(){var o=0,r=1,p=0,n=true,q;while(o<5){q=this._list.readUInt8(o++);p+=r*(q&l.LENGTH_MASK);r*=128;if((q&l.LENGTH_FIN_MASK)===0){break}if(this._list.length<=o){n=false;break}}if(n){this.packet.length=p;this._list.consume(o)}return n};h.prototype._parsePayload=function(){var n=false;if(this.packet.length===0||this._list.length>=this.packet.length){this._pos=0;switch(this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this.emit("error",new Error("not supported"))}n=true}return n};h.prototype._parseConnect=function(){var u,n,q,s,p,t,o={},r=this.packet;u=this._parseString();if(u===null){return this.emit("error",new Error("cannot parse protocol id"))}r.protocolId=u;if(this._pos>this._list.length){return this.emit("error",new Error("packet too short"))}r.protocolVersion=this._list.readUInt8(this._pos);this._pos++;o.username=(this._list.readUInt8(this._pos)&l.USERNAME_MASK);o.password=(this._list.readUInt8(this._pos)&l.PASSWORD_MASK);o.will=(this._list.readUInt8(this._pos)&l.WILL_FLAG_MASK);if(o.will){r.will={};r.will.retain=(this._list.readUInt8(this._pos)&l.WILL_RETAIN_MASK)!==0;r.will.qos=(this._list.readUInt8(this._pos)&l.WILL_QOS_MASK)>>l.WILL_QOS_SHIFT}r.clean=(this._list.readUInt8(this._pos)&l.CLEAN_SESSION_MASK)!==0;this._pos++;r.keepalive=this._parseNum();if(r.keepalive===-1){return this.emit("error",new Error("packet too short"))}n=this._parseString();if(n===null){return this.emit("error",new Error("packet too short"))}r.clientId=n;if(o.will){q=this._parseString();if(q===null){return this.emit("error",new Error("cannot parse will topic"))}r.will.topic=q;s=this._parseBuffer();if(s===null){return this.emit("error",new Error("cannot parse will payload"))}r.will.payload=s}if(o.username){t=this._parseString();if(t===null){return this.emit("error",new Error("cannot parse username"))}r.username=t}if(o.password){p=this._parseBuffer();if(p===null){return this.emit("error",new Error("cannot parse username"))}r.password=p}return r};h.prototype._parseConnack=function(){var n=this.packet;n.sessionPresent=!!(this._list.readUInt8(this._pos++)&l.SESSIONPRESENT_MASK);n.returnCode=this._list.readUInt8(this._pos);if(n.returnCode===-1){return this.emit("error",new Error("cannot parse return code"))}};h.prototype._parsePublish=function(){var n=this.packet;n.topic=this._parseString();if(n.topic===null){return this.emit("error",new Error("cannot parse topic"))}if(n.qos>0){if(!this._parseMessageId()){return}}n.payload=this._list.slice(this._pos,n.length)};h.prototype._parseSubscribe=function(){var p=this.packet,n,o;if(p.qos!=1){return this.emit("error",new Error("wrong subscribe header"))}p.subscriptions=[];if(!this._parseMessageId()){return}while(this._pos<p.length){n=this._parseString();if(n===null){return this.emit("error",new Error("Parse error - cannot parse topic"))}o=this._list.readUInt8(this._pos++);p.subscriptions.push({topic:n,qos:o})}};h.prototype._parseSuback=function(){this.packet.granted=[];if(!this._parseMessageId()){return}while(this._pos<this.packet.length){this.packet.granted.push(this._list.readUInt8(this._pos++))}};h.prototype._parseUnsubscribe=function(){var o=this.packet;o.unsubscriptions=[];if(!this._parseMessageId()){return}while(this._pos<o.length){var n;n=this._parseString();if(n===null){return this.emit("error",new Error("cannot parse topic"))}o.unsubscriptions.push(n)}};h.prototype._parseUnsuback=function(){if(!this._parseMessageId()){return this.emit("error",new Error("cannot parse message id"))}};h.prototype._parseMessageId=function(){var n=this.packet;n.messageId=this._parseNum();if(n.messageId===null){this.emit("error",new Error("cannot parse message id"));return false}return true};h.prototype._parseString=function(o){var p=this._parseNum(),n;if(p===-1||p+this._pos>this._list.length){return null}n=this._list.toString("utf8",this._pos,this._pos+p);this._pos+=p;return n};h.prototype._parseBuffer=function(){var o=this._parseNum(),n;if(o===-1||o+this._pos>this._list.length){return null}n=this._list.slice(this._pos,this._pos+o);this._pos+=o;return n};h.prototype._parseNum=function(){if(2>this._pos+this._list.length){return -1}var n=this._list.readUInt16BE(this._pos);this._pos+=2;return n};e.exports=h},{"./constants":11,"./packet":15,bl:14,events:62,inherits:10}],17:[function(f,g,e){g.exports=f("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":18}],18:[function(f,g,e){(function(n){g.exports=i;var j=Object.keys||function(r){var q=[];for(var p in r){q.push(p)}return q};var h=f("core-util-is");h.inherits=f("inherits");var k=f("./_stream_readable");var l=f("./_stream_writable");h.inherits(i,k);o(j(l.prototype),function(p){if(!i.prototype[p]){i.prototype[p]=l.prototype[p]}});function i(p){if(!(this instanceof i)){return new i(p)}k.call(this,p);l.call(this,p);if(p&&p.readable===false){this.readable=false}if(p&&p.writable===false){this.writable=false}this.allowHalfOpen=true;if(p&&p.allowHalfOpen===false){this.allowHalfOpen=false}this.once("end",m)}function m(){if(this.allowHalfOpen||this._writableState.ended){return}n.nextTick(this.end.bind(this))}function o(q,s){for(var r=0,p=q.length;r<p;r++){s(q[r],r)}}}).call(this,f("_process"))},{"./_stream_readable":20,"./_stream_writable":22,_process:66,"core-util-is":23,inherits:10}],19:[function(i,j,g){j.exports=e;var h=i("./_stream_transform");var f=i("core-util-is");f.inherits=i("inherits");f.inherits(e,h);function e(k){if(!(this instanceof e)){return new e(k)}h.call(this,k)}e.prototype._transform=function(l,m,k){k(null,l)}},{"./_stream_transform":21,"core-util-is":23,inherits:10}],20:[function(f,g,e){(function(B){g.exports=s;var w=f("isarray");var r=f("buffer").Buffer;s.ReadableState=i;var h=f("events").EventEmitter;if(!h.listenerCount){h.listenerCount=function(K,J){return K.listeners(J).length}}var p=f("stream");var j=f("core-util-is");j.inherits=f("inherits");var y;j.inherits(s,p);function i(J,L){J=J||{};var K=J.highWaterMark;this.highWaterMark=(K||K===0)?K:16*1024;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=false;this.ended=false;this.endEmitted=false;this.reading=false;this.calledRead=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!J.objectMode;this.defaultEncoding=J.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(J.encoding){if(!y){y=f("string_decoder/").StringDecoder}this.decoder=new y(J.encoding);this.encoding=J.encoding}}function s(J){if(!(this instanceof s)){return new s(J)}this._readableState=new i(J,this);this.readable=true;p.call(this)}s.prototype.push=function(J,K){var L=this._readableState;if(typeof J==="string"&&!L.objectMode){K=K||L.defaultEncoding;if(K!==L.encoding){J=new r(J,K);K=""}}return k(this,L,J,K,false)};s.prototype.unshift=function(J){var K=this._readableState;return k(this,K,J,"",true)};function k(O,M,J,L,K){var P=n(M,J);if(P){O.emit("error",P)}else{if(J===null||J===undefined){M.reading=false;if(!M.ended){F(O,M)}}else{if(M.objectMode||J&&J.length>0){if(M.ended&&!K){var N=new Error("stream.push() after EOF");O.emit("error",N)}else{if(M.endEmitted&&K){var N=new Error("stream.unshift() after end event");O.emit("error",N)}else{if(M.decoder&&!K&&!L){J=M.decoder.write(J)}M.length+=M.objectMode?1:J.length;if(K){M.buffer.unshift(J)}else{M.reading=false;M.buffer.push(J)}if(M.needReadable){t(O)}H(O,M)}}}else{if(!K){M.reading=false}}}}return A(M)}function A(J){return !J.ended&&(J.needReadable||J.length<J.highWaterMark||J.length===0)}s.prototype.setEncoding=function(J){if(!y){y=f("string_decoder/").StringDecoder}this._readableState.decoder=new y(J);this._readableState.encoding=J};var z=8388608;function C(K){if(K>=z){K=z}else{K--;for(var J=1;J<32;J<<=1){K|=K>>J}K++}return K}function u(K,J){if(J.length===0&&J.ended){return 0}if(J.objectMode){return K===0?0:1}if(K===null||isNaN(K)){if(J.flowing&&J.buffer.length){return J.buffer[0].length}else{return J.length}}if(K<=0){return 0}if(K>J.highWaterMark){J.highWaterMark=C(K)}if(K>J.length){if(!J.ended){J.needReadable=true;return 0}else{return J.length}}return K}s.prototype.read=function(N){var M=this._readableState;M.calledRead=true;var L=N;var K;if(typeof N!=="number"||N>0){M.emittedReadable=false}if(N===0&&M.needReadable&&(M.length>=M.highWaterMark||M.ended)){t(this);return null}N=u(N,M);if(N===0&&M.ended){K=null;if(M.length>0&&M.decoder){K=x(N,M);M.length-=K.length}if(M.length===0){G(this)}return K}var J=M.needReadable;if(M.length-N<=M.highWaterMark){J=true}if(M.ended||M.reading){J=false}if(J){M.reading=true;M.sync=true;if(M.length===0){M.needReadable=true}this._read(M.highWaterMark);M.sync=false}if(J&&!M.reading){N=u(L,M)}if(N>0){K=x(N,M)}else{K=null}if(K===null){M.needReadable=true;N=0}M.length-=N;if(M.length===0&&!M.ended){M.needReadable=true}if(M.ended&&!M.endEmitted&&M.length===0){G(this)}return K};function n(K,J){var L=null;if(!r.isBuffer(J)&&"string"!==typeof J&&J!==null&&J!==undefined&&!K.objectMode){L=new TypeError("Invalid non-string/buffer chunk")}return L}function F(L,K){if(K.decoder&&!K.ended){var J=K.decoder.end();if(J&&J.length){K.buffer.push(J);K.length+=K.objectMode?1:J.length}}K.ended=true;if(K.length>0){t(L)}else{G(L)}}function t(K){var J=K._readableState;J.needReadable=false;if(J.emittedReadable){return}J.emittedReadable=true;if(J.sync){B.nextTick(function(){D(K)})}else{D(K)}}function D(J){J.emit("readable")}function H(K,J){if(!J.readingMore){J.readingMore=true;B.nextTick(function(){o(K,J)})}}function o(L,K){var J=K.length;while(!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark){L.read(0);if(J===K.length){break}else{J=K.length}}K.readingMore=false}s.prototype._read=function(J){this.emit("error",new Error("not implemented"))};s.prototype.pipe=function(U,S){var J=this;var K=this._readableState;switch(K.pipesCount){case 0:K.pipes=U;break;case 1:K.pipes=[K.pipes,U];break;default:K.pipes.push(U);break}K.pipesCount+=1;var T=(!S||S.end!==false)&&U!==B.stdout&&U!==B.stderr;var M=T?W:L;if(K.endEmitted){B.nextTick(M)}else{J.once("end",M)}U.on("unpipe",P);function P(X){if(X!==J){return}L()}function W(){U.end()}var N=m(J);U.on("drain",N);function L(){U.removeListener("close",V);U.removeListener("finish",O);U.removeListener("drain",N);U.removeListener("error",R);U.removeListener("unpipe",P);J.removeListener("end",W);J.removeListener("end",L);if(!U._writableState||U._writableState.needDrain){N()}}function R(X){Q();U.removeListener("error",R);if(h.listenerCount(U,"error")===0){U.emit("error",X)}}if(!U._events||!U._events.error){U.on("error",R)}else{if(w(U._events.error)){U._events.error.unshift(R)}else{U._events.error=[R,U._events.error]}}function V(){U.removeListener("finish",O);Q()}U.once("close",V);function O(){U.removeListener("close",V);Q()}U.once("finish",O);function Q(){J.unpipe(U)}U.emit("pipe",J);if(!K.flowing){this.on("readable",I);K.flowing=true;B.nextTick(function(){q(J)})}return U};function m(J){return function(){var K=this;var L=J._readableState;L.awaitDrain--;if(L.awaitDrain===0){q(J)}}}function q(M){var L=M._readableState;var J;L.awaitDrain=0;function K(O,P,Q){var N=O.write(J);if(false===N){L.awaitDrain++}}while(L.pipesCount&&null!==(J=M.read())){if(L.pipesCount===1){K(L.pipes,0,null)}else{E(L.pipes,K)}M.emit("data",J);if(L.awaitDrain>0){return}}if(L.pipesCount===0){L.flowing=false;if(h.listenerCount(M,"data")>0){v(M)}return}L.ranOut=true}function I(){if(this._readableState.ranOut){this._readableState.ranOut=false;q(this)}}s.prototype.unpipe=function(K){var M=this._readableState;if(M.pipesCount===0){return this}if(M.pipesCount===1){if(K&&K!==M.pipes){return this}if(!K){K=M.pipes}M.pipes=null;M.pipesCount=0;this.removeListener("readable",I);M.flowing=false;if(K){K.emit("unpipe",this)}return this}if(!K){var N=M.pipes;var J=M.pipesCount;M.pipes=null;M.pipesCount=0;this.removeListener("readable",I);M.flowing=false;for(var L=0;L<J;L++){N[L].emit("unpipe",this)}return this}var L=l(M.pipes,K);if(L===-1){return this}M.pipes.splice(L,1);M.pipesCount-=1;if(M.pipesCount===1){M.pipes=M.pipes[0]}K.emit("unpipe",this);return this};s.prototype.on=function(L,K){var J=p.prototype.on.call(this,L,K);if(L==="data"&&!this._readableState.flowing){v(this)}if(L==="readable"&&this.readable){var M=this._readableState;if(!M.readableListening){M.readableListening=true;M.emittedReadable=false;M.needReadable=true;if(!M.reading){this.read(0)}else{if(M.length){t(this,M)}}}}return J};s.prototype.addListener=s.prototype.on;s.prototype.resume=function(){v(this);this.read(0);this.emit("resume")};s.prototype.pause=function(){v(this,true);this.emit("pause")};function v(N,L){var M=N._readableState;if(M.flowing){throw new Error("Cannot switch to old mode now.")}var K=L||false;var J=false;N.readable=true;N.pipe=p.prototype.pipe;N.on=N.addListener=p.prototype.on;N.on("readable",function(){J=true;var O;while(!K&&(null!==(O=N.read()))){N.emit("data",O)}if(O===null){J=false;N._readableState.needReadable=true}});N.pause=function(){K=true;this.emit("pause")};N.resume=function(){K=false;if(J){B.nextTick(function(){N.emit("readable")})}else{this.read(0)}this.emit("resume")};N.emit("readable")}s.prototype.wrap=function(O){var N=this._readableState;var M=false;var J=this;O.on("end",function(){if(N.decoder&&!N.ended){var P=N.decoder.end();if(P&&P.length){J.push(P)}}J.push(null)});O.on("data",function(Q){if(N.decoder){Q=N.decoder.write(Q)}if(N.objectMode&&(Q===null||Q===undefined)){return}else{if(!N.objectMode&&(!Q||!Q.length)){return}}var P=J.push(Q);if(!P){M=true;O.pause()}});for(var L in O){if(typeof O[L]==="function"&&typeof this[L]==="undefined"){this[L]=function(P){return function(){return O[P].apply(O,arguments)}}(L)}}var K=["error","close","destroy","pause","resume"];E(K,function(P){O.on(P,J.emit.bind(J,P))});J._read=function(P){if(M){M=false;O.resume()}};return J};s._fromList=x;function x(M,J){var Q=J.buffer;var K=J.length;var S=!!J.decoder;var U=!!J.objectMode;var R;if(Q.length===0){return null}if(K===0){R=null}else{if(U){R=Q.shift()}else{if(!M||M>=K){if(S){R=Q.join("")}else{R=r.concat(Q,K)}Q.length=0}else{if(M<Q[0].length){var L=Q[0];R=L.slice(0,M);Q[0]=L.slice(M)}else{if(M===Q[0].length){R=Q.shift()}else{if(S){R=""}else{R=new r(M)}var T=0;for(var P=0,O=Q.length;P<O&&T<M;P++){var L=Q[0];var N=Math.min(M-T,L.length);if(S){R+=L.slice(0,N)}else{L.copy(R,T,0,N)}if(N<L.length){Q[0]=L.slice(N)}else{Q.shift()}T+=N}}}}}}return R}function G(K){var J=K._readableState;if(J.length>0){throw new Error("endReadable called on non-empty stream")}if(!J.endEmitted&&J.calledRead){J.ended=true;B.nextTick(function(){if(!J.endEmitted&&J.length===0){J.endEmitted=true;K.readable=false;K.emit("end")}})}}function E(K,M){for(var L=0,J=K.length;L<J;L++){M(K[L],L)}}function l(L,J){for(var M=0,K=L.length;M<K;M++){if(L[M]===J){return M}}return -1}}).call(this,f("_process"))},{_process:66,buffer:58,"core-util-is":23,events:62,inherits:10,isarray:24,stream:84,"string_decoder/":25}],21:[function(f,e,i){e.exports=h;var j=f("./_stream_duplex");var k=f("core-util-is");k.inherits=f("inherits");k.inherits(h,j);function m(n,o){this.afterTransform=function(q,p){return l(o,q,p)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function l(r,s,q){var p=r._transformState;p.transforming=false;var n=p.writecb;if(!n){return r.emit("error",new Error("no writecb in Transform class"))}p.writechunk=null;p.writecb=null;if(q!==null&&q!==undefined){r.push(q)}if(n){n(s)}var o=r._readableState;o.reading=false;if(o.needReadable||o.length<o.highWaterMark){r._read(o.highWaterMark)}}function h(n){if(!(this instanceof h)){return new h(n)}j.call(this,n);var o=this._transformState=new m(n,this);var p=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("finish",function(){if("function"===typeof this._flush){this._flush(function(q){g(p,q)})}else{g(p)}})}h.prototype.push=function(n,o){this._transformState.needTransform=false;return j.prototype.push.call(this,n,o)};h.prototype._transform=function(o,p,n){throw new Error("not implemented")};h.prototype._write=function(p,r,n){var q=this._transformState;q.writecb=n;q.writechunk=p;q.writeencoding=r;if(!q.transforming){var o=this._readableState;if(q.needTransform||o.needReadable||o.length<o.highWaterMark){this._read(o.highWaterMark)}}};h.prototype._read=function(p){var o=this._transformState;if(o.writechunk!==null&&o.writecb&&!o.transforming){o.transforming=true;this._transform(o.writechunk,o.writeencoding,o.afterTransform)}else{o.needTransform=true}};function g(q,r){if(r){return q.emit("error",r)}var n=q._writableState;var o=q._readableState;var p=q._transformState;if(n.length){throw new Error("calling transform done when ws.length != 0")}if(p.transforming){throw new Error("calling transform done when still transforming")}return q.push(null)}},{"./_stream_duplex":18,"core-util-is":23,inherits:10}],22:[function(f,g,e){(function(v){g.exports=o;var n=f("buffer").Buffer;o.WritableState=j;var h=f("core-util-is");h.inherits=f("inherits");var m=f("stream");h.inherits(o,m);function q(D,E,C){this.chunk=D;this.encoding=E;this.callback=C}function j(C,F){C=C||{};var E=C.highWaterMark;this.highWaterMark=(E||E===0)?E:16*1024;this.objectMode=!!C.objectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var D=C.decodeStrings===false;this.decodeStrings=!D;this.defaultEncoding=C.defaultEncoding||"utf8";this.length=0;this.writing=false;this.sync=true;this.bufferProcessing=false;this.onwrite=function(G){l(F,G)};this.writecb=null;this.writelen=0;this.buffer=[];this.errorEmitted=false}function o(D){var C=f("./_stream_duplex");if(!(this instanceof o)&&!(this instanceof C)){return new o(D)}this._writableState=new j(D,this);this.writable=true;m.call(this)}o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function A(E,D,C){var F=new Error("write after end");E.emit("error",F);v.nextTick(function(){C(F)})}function u(G,F,D,C){var E=true;if(!n.isBuffer(D)&&"string"!==typeof D&&D!==null&&D!==undefined&&!F.objectMode){var H=new TypeError("Invalid non-string/buffer chunk");G.emit("error",H);v.nextTick(function(){C(H)});E=false}return E}o.prototype.write=function(E,F,C){var G=this._writableState;var D=false;if(typeof F==="function"){C=F;F=null}if(n.isBuffer(E)){F="buffer"}else{if(!F){F=G.defaultEncoding}}if(typeof C!=="function"){C=function(){}}if(G.ended){A(this,G,C)}else{if(u(this,G,E,C)){D=w(this,G,E,F,C)}}return D};function y(E,C,D){if(!E.objectMode&&E.decodeStrings!==false&&typeof C==="string"){C=new n(C,D)}return C}function w(I,H,F,G,D){F=y(H,F,G);if(n.isBuffer(F)){G="buffer"}var C=H.objectMode?1:F.length;H.length+=C;var E=H.length<H.highWaterMark;if(!E){H.needDrain=true}if(H.writing){H.buffer.push(new q(F,G,D))}else{z(I,H,C,F,G,D)}return E}function z(H,G,D,E,F,C){G.writelen=D;G.writecb=C;G.writing=true;G.sync=true;H._write(E,F,G.onwrite);G.sync=false}function s(F,E,D,G,C){if(D){v.nextTick(function(){C(G)})}else{C(G)}F._writableState.errorEmitted=true;F.emit("error",G)}function r(C){C.writing=false;C.writecb=null;C.length-=C.writelen;C.writelen=0}function l(F,H){var E=F._writableState;var D=E.sync;var C=E.writecb;r(E);if(H){s(F,E,D,H,C)}else{var G=k(F,E);if(!G&&!E.bufferProcessing&&E.buffer.length){i(F,E)}if(D){v.nextTick(function(){x(F,E,G,C)})}else{x(F,E,G,C)}}}function x(E,D,F,C){if(!F){t(E,D)}C();if(F){p(E,D)}}function t(D,C){if(C.length===0&&C.needDrain){C.needDrain=false;D.emit("drain")}}function i(I,H){H.bufferProcessing=true;for(var J=0;J<H.buffer.length;J++){var G=H.buffer[J];var E=G.chunk;var F=G.encoding;var D=G.callback;var C=H.objectMode?1:E.length;z(I,H,C,E,F,D);if(H.writing){J++;break}}H.bufferProcessing=false;if(J<H.buffer.length){H.buffer=H.buffer.slice(J)}else{H.buffer.length=0}}o.prototype._write=function(D,E,C){C(new Error("not implemented"))};o.prototype.end=function(D,E,C){var F=this._writableState;if(typeof D==="function"){C=D;D=null;E=null}else{if(typeof E==="function"){C=E;E=null}}if(typeof D!=="undefined"&&D!==null){this.write(D,E)}if(!F.ending&&!F.finished){B(this,F,C)}};function k(D,C){return(C.ending&&C.length===0&&!C.finished&&!C.writing)}function p(E,D){var C=k(E,D);if(C){D.finished=true;E.emit("finish")}return C}function B(E,D,C){D.ending=true;p(E,D);if(C){if(D.finished){v.nextTick(C)}else{E.once("finish",C)}}D.ended=true}}).call(this,f("_process"))},{"./_stream_duplex":18,_process:66,buffer:58,"core-util-is":23,inherits:10,stream:84}],23:[function(f,g,e){(function(o){function q(x){if(Array.isArray){return Array.isArray(x)}return p(x)==="[object Array]"}e.isArray=q;function k(x){return typeof x==="boolean"}e.isBoolean=k;function h(x){return x===null}e.isNull=h;function s(x){return x==null}e.isNullOrUndefined=s;function w(x){return typeof x==="number"}e.isNumber=w;function i(x){return typeof x==="string"}e.isString=i;function u(x){return typeof x==="symbol"}e.isSymbol=u;function n(x){return x===void 0}e.isUndefined=n;function m(x){return p(x)==="[object RegExp]"}e.isRegExp=m;function v(x){return typeof x==="object"&&x!==null}e.isObject=v;function t(x){return p(x)==="[object Date]"}e.isDate=t;function r(x){return(p(x)==="[object Error]"||x instanceof Error)}e.isError=r;function j(x){return typeof x==="function"}e.isFunction=j;function l(x){return x===null||typeof x==="boolean"||typeof x==="number"||typeof x==="string"||typeof x==="symbol"||typeof x==="undefined"}e.isPrimitive=l;e.isBuffer=o.isBuffer;function p(x){return Object.prototype.toString.call(x)}}).call(this,{isBuffer:f("../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/is-buffer/index.js":64}],24:[function(f,g,e){g.exports=Array.isArray||function(h){return Object.prototype.toString.call(h)=="[object Array]"}},{}],25:[function(h,f,j){var i=h("buffer").Buffer;var n=i.isEncoding||function(o){switch(o&&o.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function g(o){if(o&&!n(o)){throw new Error("Unknown encoding: "+o)}}var m=j.StringDecoder=function(o){this.encoding=(o||"utf8").toLowerCase().replace(/[-_]/,"");g(o);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=e;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=l;break;default:this.write=k;return}this.charBuffer=new i(6);this.charReceived=0;this.charLength=0};m.prototype.write=function(q){var s="";while(this.charLength){var t=(q.length>=this.charLength-this.charReceived)?this.charLength-this.charReceived:q.length;q.copy(this.charBuffer,this.charReceived,0,t);this.charReceived+=t;if(this.charReceived<this.charLength){return""}q=q.slice(t,q.length);s=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var p=s.charCodeAt(s.length-1);if(p>=55296&&p<=56319){this.charLength+=this.surrogateSize;s="";continue}this.charReceived=this.charLength=0;if(q.length===0){return s}break}this.detectIncompleteChar(q);var o=q.length;if(this.charLength){q.copy(this.charBuffer,0,q.length-this.charReceived,o);o-=this.charReceived}s+=q.toString(this.encoding,0,o);var o=s.length-1;var p=s.charCodeAt(o);if(p>=55296&&p<=56319){var r=this.surrogateSize;this.charLength+=r;this.charReceived+=r;this.charBuffer.copy(this.charBuffer,r,0,r);q.copy(this.charBuffer,0,0,r);return s.substring(0,o)}return s};m.prototype.detectIncompleteChar=function(o){var p=(o.length>=3)?3:o.length;for(;p>0;p--){var q=o[o.length-p];if(p==1&&q>>5==6){this.charLength=2;break}if(p<=2&&q>>4==14){this.charLength=3;break}if(p<=3&&q>>3==30){this.charLength=4;break}}this.charReceived=p};m.prototype.end=function(o){var r="";if(o&&o.length){r=this.write(o)}if(this.charReceived){var s=this.charReceived;var q=this.charBuffer;var p=this.encoding;r+=q.slice(0,s).toString(p)}return r};function k(o){return o.toString(this.encoding)}function e(o){this.charReceived=o.length%2;this.charLength=this.charReceived?2:0}function l(o){this.charReceived=o.length%3;this.charLength=this.charReceived?3:0}},{buffer:58}],26:[function(f,g,e){var h=f("stream");e=g.exports=f("./lib/_stream_readable.js");e.Stream=h;e.Readable=e;e.Writable=f("./lib/_stream_writable.js");e.Duplex=f("./lib/_stream_duplex.js");e.Transform=f("./lib/_stream_transform.js");e.PassThrough=f("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":18,"./lib/_stream_passthrough.js":19,"./lib/_stream_readable.js":20,"./lib/_stream_transform.js":21,"./lib/_stream_writable.js":22,stream:84}],27:[function(g,i,f){function e(m,k,l){var j=this;this._callback=m;this._args=l;this._interval=setInterval(m,k,this._args);this.reschedule=function(n){var o=Date.now();if(j._interval){clearInterval(j._interval)}j._interval=setInterval(j._callback,n,j._args)};this.clear=function(){if(j._interval){clearInterval(j._interval);j._interval=undefined;j._callback=undefined;j._args=undefined}}}function h(){if(typeof arguments[0]!=="function"){throw new Error("callback needed")}if(typeof arguments[1]!=="number"){throw new Error("interval needed")}var j;if(arguments.length>0){j=new Array(arguments.length-2);for(var k=0;k<j.length;k++){j[k]=arguments[k+2]}}return new e(arguments[0],arguments[1],j)}i.exports=h},{}],28:[function(f,g,e){(function(i,o){var r=f("readable-stream");var m=f("end-of-stream");var p=f("util");var q=new o([0]);var j=function(s,t){if(s._corked){s.once("uncork",t)}else{t()}};var n=function(t,s){return function(u){if(u){t.destroy(u.message==="premature close"?null:u)}else{if(s&&!t._ended){t.end()}}}};var l=function(s,t){if(!s){return t()}if(s._writableState&&s._writableState.finished){return t()}if(s._writableState){return s.end(t)}s.end();t()};var h=function(s){return new (r.Readable)({objectMode:true,highWaterMark:16}).wrap(s)};var k=function(t,s,u){if(!(this instanceof k)){return new k(t,s,u)}r.Duplex.call(this,u);this._writable=null;this._readable=null;this._readable2=null;this._forwardDestroy=!u||u.destroy!==false;this._forwardEnd=!u||u.end!==false;this._corked=1;this._ondrain=null;this._drained=false;this._forwarding=false;this._unwrite=null;this._unread=null;this._ended=false;this.destroyed=false;if(t){this.setWritable(t)}if(s){this.setReadable(s)}};p.inherits(k,r.Duplex);k.obj=function(t,s,u){if(!u){u={}}u.objectMode=true;u.highWaterMark=16;return new k(t,s,u)};k.prototype.cork=function(){if(++this._corked===1){this.emit("cork")}};k.prototype.uncork=function(){if(this._corked&&--this._corked===0){this.emit("uncork")}};k.prototype.setWritable=function(u){if(this._unwrite){this._unwrite()}if(this.destroyed){if(u&&u.destroy){u.destroy()}return}if(u===null||u===false){this.end();return}var t=this;var w=m(u,{writable:true,readable:false},n(this,this._forwardEnd));var v=function(){var x=t._ondrain;t._ondrain=null;if(x){x()}};var s=function(){t._writable.removeListener("drain",v);w()};if(this._unwrite){i.nextTick(v)}this._writable=u;this._writable.on("drain",v);this._unwrite=s;this.uncork()};k.prototype.setReadable=function(u){if(this._unread){this._unread()}if(this.destroyed){if(u&&u.destroy){u.destroy()}return}if(u===null||u===false){this.push(null);this.resume();return}var t=this;var x=m(u,{writable:false,readable:true},n(this));var v=function(){t._forward()};var w=function(){t.push(null)};var s=function(){t._readable2.removeListener("readable",v);t._readable2.removeListener("end",w);x()};this._drained=true;this._readable=u;this._readable2=u._readableState?u:h(u);this._readable2.on("readable",v);this._readable2.on("end",w);this._unread=s;this._forward()};k.prototype._read=function(){this._drained=true;this._forward()};k.prototype._forward=function(){if(this._forwarding||!this._readable2||!this._drained){return}this._forwarding=true;var t;var s=this._readable2._readableState;while((t=this._readable2.read(s.buffer.length?s.buffer[0].length:s.length))!==null){this._drained=this.push(t)}this._forwarding=false};k.prototype.destroy=function(t){if(this.destroyed){return}this.destroyed=true;var s=this;i.nextTick(function(){s._destroy(t)})};k.prototype._destroy=function(s){if(s){var t=this._ondrain;this._ondrain=null;if(t){t(s)}else{this.emit("error",s)}}if(this._forwardDestroy){if(this._readable&&this._readable.destroy){this._readable.destroy()}if(this._writable&&this._writable.destroy){this._writable.destroy()}}this.emit("close")};k.prototype._write=function(u,t,s){if(this.destroyed){return s()}if(this._corked){return j(this,this._write.bind(this,u,t,s))}if(u===q){return this._finish(s)}if(!this._writable){return s()}if(this._writable.write(u)===false){this._ondrain=s}else{s()}};k.prototype._finish=function(s){var t=this;this.emit("preend");j(this,function(){l(t._forwardEnd&&t._writable,function(){if(t._writableState.prefinished===false){t._writableState.prefinished=true}t.emit("prefinish");j(t,s)})})};k.prototype.end=function(u,t,s){if(typeof u==="function"){return this.end(null,null,u)}if(typeof t==="function"){return this.end(u,null,t)}this._ended=true;if(u){this.write(u)}if(!this._writableState.ending){this.write(q)}return r.Writable.prototype.end.call(this,s)};g.exports=k}).call(this,f("_process"),f("buffer").Buffer)},{_process:66,buffer:58,"end-of-stream":29,"readable-stream":42,util:89}],29:[function(f,g,e){var h=f("once");var i=function(){};var k=function(l){return l.setHeader&&typeof l.abort==="function"};var j=function(u,l,t){if(typeof l==="function"){return j(u,null,l)}if(!l){l={}}t=h(t||i);var p=u._writableState;var m=u._readableState;var o=l.readable||(l.readable!==false&&u.readable);var r=l.writable||(l.writable!==false&&u.writable);var s=function(){if(!u.writable){n()}};var n=function(){r=false;if(!o){t()}};var w=function(){o=false;if(!r){t()}};var v=function(){if(o&&!(m&&m.ended)){return t(new Error("premature close"))}if(r&&!(p&&p.ended)){return t(new Error("premature close"))}};var q=function(){u.req.on("finish",n)};if(k(u)){u.on("complete",n);u.on("abort",v);if(u.req){q()}else{u.on("request",q)}}else{if(r&&!p){u.on("end",s);u.on("close",s)}}u.on("end",w);u.on("finish",n);if(l.error!==false){u.on("error",t)}u.on("close",v);return function(){u.removeListener("complete",n);u.removeListener("abort",v);u.removeListener("request",q);if(u.req){u.req.removeListener("finish",n)}u.removeListener("end",s);u.removeListener("close",s);u.removeListener("finish",n);u.removeListener("end",w);u.removeListener("error",t);u.removeListener("close",v)}};g.exports=j},{once:31}],30:[function(f,g,e){arguments[4][8][0].apply(e,arguments)},{dup:8}],31:[function(f,g,e){arguments[4][9][0].apply(e,arguments)},{dup:9,wrappy:30}],32:[function(i,g,k){var j=Object.keys||function(v){var u=[];for(var t in v){u.push(t)}return u};g.exports=l;var q=i("process-nextick-args");var n=i("core-util-is");n.inherits=i("inherits");var f=i("./_stream_readable");var m=i("./_stream_writable");n.inherits(l,f);var r=j(m.prototype);for(var p=0;p<r.length;p++){var e=r[p];if(!l.prototype[e]){l.prototype[e]=m.prototype[e]}}function l(t){if(!(this instanceof l)){return new l(t)}f.call(this,t);m.call(this,t);if(t&&t.readable===false){this.readable=false}if(t&&t.writable===false){this.writable=false}this.allowHalfOpen=true;if(t&&t.allowHalfOpen===false){this.allowHalfOpen=false}this.once("end",s)}function s(){if(this.allowHalfOpen||this._writableState.ended){return}q(h,this)}function h(t){t.end()}function o(u,w){for(var v=0,t=u.length;v<t;v++){w(u[v],v)}}},{"./_stream_readable":34,"./_stream_writable":36,"core-util-is":37,inherits:10,"process-nextick-args":39}],33:[function(i,j,g){j.exports=e;var h=i("./_stream_transform");var f=i("core-util-is");f.inherits=i("inherits");f.inherits(e,h);function e(k){if(!(this instanceof e)){return new e(k)}h.call(this,k)}e.prototype._transform=function(l,m,k){k(null,l)}},{"./_stream_transform":35,"core-util-is":37,inherits:10}],34:[function(f,g,e){(function(I){g.exports=v;var H=f("process-nextick-args");var A=f("isarray");var u=f("buffer").Buffer;v.ReadableState=i;var h=f("events");var y=function(R,Q){return R.listeners(Q).length};var r;(function(){try{r=f("stream")}catch(Q){}finally{if(!r){r=f("events").EventEmitter}}}());var u=f("buffer").Buffer;var j=f("core-util-is");j.inherits=f("inherits");var P=f("util");var J;if(P&&P.debuglog){J=P.debuglog("stream")}else{J=function(){}}var E;j.inherits(v,r);var p;function i(Q,S){p=p||f("./_stream_duplex");Q=Q||{};this.objectMode=!!Q.objectMode;if(S instanceof p){this.objectMode=this.objectMode||!!Q.readableObjectMode}var R=Q.highWaterMark;var T=this.objectMode?16:16*1024;this.highWaterMark=(R||R===0)?R:T;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.defaultEncoding=Q.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(Q.encoding){if(!E){E=f("string_decoder/").StringDecoder}this.decoder=new E(Q.encoding);this.encoding=Q.encoding}}var p;function v(Q){p=p||f("./_stream_duplex");if(!(this instanceof v)){return new v(Q)}this._readableState=new i(Q,this);this.readable=true;if(Q&&typeof Q.read==="function"){this._read=Q.read}r.call(this)}v.prototype.push=function(Q,R){var S=this._readableState;if(!S.objectMode&&typeof Q==="string"){R=R||S.defaultEncoding;if(R!==S.encoding){Q=new u(Q,R);R=""}}return k(this,S,Q,R,false)};v.prototype.unshift=function(Q){var R=this._readableState;return k(this,R,Q,"",true)};v.prototype.isPaused=function(){return this._readableState.flowing===false};function k(V,T,Q,S,R){var W=o(T,Q);if(W){V.emit("error",W)}else{if(Q===null){T.reading=false;M(V,T)}else{if(T.objectMode||Q&&Q.length>0){if(T.ended&&!R){var U=new Error("stream.push() after EOF");V.emit("error",U)}else{if(T.endEmitted&&R){var U=new Error("stream.unshift() after end event");V.emit("error",U)}else{if(T.decoder&&!R&&!S){Q=T.decoder.write(Q)}if(!R){T.reading=false}if(T.flowing&&T.length===0&&!T.sync){V.emit("data",Q);V.read(0)}else{T.length+=T.objectMode?1:Q.length;if(R){T.buffer.unshift(Q)}else{T.buffer.push(Q)}if(T.needReadable){w(V)}}O(V,T)}}}else{if(!R){T.reading=false}}}}return G(T)}function G(Q){return !Q.ended&&(Q.needReadable||Q.length<Q.highWaterMark||Q.length===0)}v.prototype.setEncoding=function(Q){if(!E){E=f("string_decoder/").StringDecoder}this._readableState.decoder=new E(Q);this._readableState.encoding=Q;return this};var F=8388608;function x(Q){if(Q>=F){Q=F}else{Q--;Q|=Q>>>1;Q|=Q>>>2;Q|=Q>>>4;Q|=Q>>>8;Q|=Q>>>16;Q++}return Q}function z(R,Q){if(Q.length===0&&Q.ended){return 0}if(Q.objectMode){return R===0?0:1}if(R===null||isNaN(R)){if(Q.flowing&&Q.buffer.length){return Q.buffer[0].length}else{return Q.length}}if(R<=0){return 0}if(R>Q.highWaterMark){Q.highWaterMark=x(R)}if(R>Q.length){if(!Q.ended){Q.needReadable=true;return 0}else{return Q.length}}return R}v.prototype.read=function(U){J("read",U);var T=this._readableState;var S=U;if(typeof U!=="number"||U>0){T.emittedReadable=false}if(U===0&&T.needReadable&&(T.length>=T.highWaterMark||T.ended)){J("read: emitReadable",T.length,T.ended);if(T.length===0&&T.ended){N(this)}else{w(this)}return null}U=z(U,T);if(U===0&&T.ended){if(T.length===0){N(this)}return null}var Q=T.needReadable;J("need readable",Q);if(T.length===0||T.length-U<T.highWaterMark){Q=true;J("length less than watermark",Q)}if(T.ended||T.reading){Q=false;J("reading or ended",Q)}if(Q){J("do read");T.reading=true;T.sync=true;if(T.length===0){T.needReadable=true}this._read(T.highWaterMark);T.sync=false}if(Q&&!T.reading){U=z(S,T)}var R;if(U>0){R=B(U,T)}else{R=null}if(R===null){T.needReadable=true;U=0}T.length-=U;if(T.length===0&&!T.ended){T.needReadable=true}if(S!==U&&T.ended&&T.length===0){N(this)}if(R!==null){this.emit("data",R)}return R};function o(R,Q){var S=null;if(!(u.isBuffer(Q))&&typeof Q!=="string"&&Q!==null&&Q!==undefined&&!R.objectMode){S=new TypeError("Invalid non-string/buffer chunk")}return S}function M(S,R){if(R.ended){return}if(R.decoder){var Q=R.decoder.end();if(Q&&Q.length){R.buffer.push(Q);R.length+=R.objectMode?1:Q.length}}R.ended=true;w(S)}function w(R){var Q=R._readableState;Q.needReadable=false;if(!Q.emittedReadable){J("emitReadable",Q.flowing);Q.emittedReadable=true;if(Q.sync){H(K,R)}else{K(R)}}}function K(Q){J("emit readable");Q.emit("readable");t(Q)}function O(R,Q){if(!Q.readingMore){Q.readingMore=true;H(q,R,Q)}}function q(S,R){var Q=R.length;while(!R.reading&&!R.flowing&&!R.ended&&R.length<R.highWaterMark){J("maybeReadMore read 0");S.read(0);if(Q===R.length){break}else{Q=R.length}}R.readingMore=false}v.prototype._read=function(Q){this.emit("error",new Error("not implemented"))};v.prototype.pipe=function(ac,aa){var Q=this;var R=this._readableState;switch(R.pipesCount){case 0:R.pipes=ac;break;case 1:R.pipes=[R.pipes,ac];break;default:R.pipes.push(ac);break}R.pipesCount+=1;J("pipe count=%d opts=%j",R.pipesCount,aa);var ab=(!aa||aa.end!==false)&&ac!==I.stdout&&ac!==I.stderr;var T=ab?af:S;if(R.endEmitted){H(T)}else{Q.once("end",T)}ac.on("unpipe",X);function X(ag){J("onunpipe");if(ag===Q){S()}}function af(){J("onend");ac.end()}var U=n(Q);ac.on("drain",U);var W=false;function S(){J("cleanup");ac.removeListener("close",ae);ac.removeListener("finish",V);ac.removeListener("drain",U);ac.removeListener("error",Z);ac.removeListener("unpipe",X);Q.removeListener("end",af);Q.removeListener("end",S);Q.removeListener("data",ad);W=true;if(R.awaitDrain&&(!ac._writableState||ac._writableState.needDrain)){U()}}Q.on("data",ad);function ad(ah){J("ondata");var ag=ac.write(ah);if(false===ag){if(R.pipesCount===1&&R.pipes[0]===ac&&Q.listenerCount("data")===1&&!W){J("false write response, pause",Q._readableState.awaitDrain);Q._readableState.awaitDrain++}Q.pause()}}function Z(ag){J("onerror",ag);Y();ac.removeListener("error",Z);if(y(ac,"error")===0){ac.emit("error",ag)}}if(!ac._events||!ac._events.error){ac.on("error",Z)}else{if(A(ac._events.error)){ac._events.error.unshift(Z)}else{ac._events.error=[Z,ac._events.error]}}function ae(){ac.removeListener("finish",V);Y()}ac.once("close",ae);function V(){J("onfinish");ac.removeListener("close",ae);Y()}ac.once("finish",V);function Y(){J("unpipe");Q.unpipe(ac)}ac.emit("pipe",Q);if(!R.flowing){J("pipe resume");Q.resume()}return ac};function n(Q){return function(){var R=Q._readableState;J("pipeOnDrain",R.awaitDrain);if(R.awaitDrain){R.awaitDrain--}if(R.awaitDrain===0&&y(Q,"data")){R.flowing=true;t(Q)}}}v.prototype.unpipe=function(R){var T=this._readableState;if(T.pipesCount===0){return this}if(T.pipesCount===1){if(R&&R!==T.pipes){return this}if(!R){R=T.pipes}T.pipes=null;T.pipesCount=0;T.flowing=false;if(R){R.emit("unpipe",this)}return this}if(!R){var U=T.pipes;var Q=T.pipesCount;T.pipes=null;T.pipesCount=0;T.flowing=false;for(var S=0;S<Q;S++){U[S].emit("unpipe",this)}return this}var S=l(T.pipes,R);if(S===-1){return this}T.pipes.splice(S,1);T.pipesCount-=1;if(T.pipesCount===1){T.pipes=T.pipes[0]}R.emit("unpipe",this);return this};v.prototype.on=function(S,R){var Q=r.prototype.on.call(this,S,R);if(S==="data"&&false!==this._readableState.flowing){this.resume()}if(S==="readable"&&this.readable){var T=this._readableState;if(!T.readableListening){T.readableListening=true;T.emittedReadable=false;T.needReadable=true;if(!T.reading){H(D,this)}else{if(T.length){w(this,T)}}}}return Q};v.prototype.addListener=v.prototype.on;function D(Q){J("readable nexttick read 0");Q.read(0)}v.prototype.resume=function(){var Q=this._readableState;if(!Q.flowing){J("resume");Q.flowing=true;m(this,Q)}return this};function m(R,Q){if(!Q.resumeScheduled){Q.resumeScheduled=true;H(C,R,Q)}}function C(R,Q){if(!Q.reading){J("resume read 0");R.read(0)}Q.resumeScheduled=false;R.emit("resume");t(R);if(Q.flowing&&!Q.reading){R.read(0)}}v.prototype.pause=function(){J("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){J("pause");this._readableState.flowing=false;this.emit("pause")}return this};function t(S){var R=S._readableState;J("flow",R.flowing);if(R.flowing){do{var Q=S.read()}while(null!==Q&&R.flowing)}}v.prototype.wrap=function(V){var U=this._readableState;var T=false;var Q=this;V.on("end",function(){J("wrapped end");if(U.decoder&&!U.ended){var W=U.decoder.end();if(W&&W.length){Q.push(W)}}Q.push(null)});V.on("data",function(X){J("wrapped data");if(U.decoder){X=U.decoder.write(X)}if(U.objectMode&&(X===null||X===undefined)){return}else{if(!U.objectMode&&(!X||!X.length)){return}}var W=Q.push(X);if(!W){T=true;V.pause()}});for(var S in V){if(this[S]===undefined&&typeof V[S]==="function"){this[S]=function(W){return function(){return V[W].apply(V,arguments)}}(S)}}var R=["error","close","destroy","pause","resume"];L(R,function(W){V.on(W,Q.emit.bind(Q,W))});Q._read=function(W){J("wrapped _read",W);if(T){T=false;V.resume()}};return Q};v._fromList=B;function B(T,Q){var X=Q.buffer;var R=Q.length;var Z=!!Q.decoder;var ab=!!Q.objectMode;var Y;if(X.length===0){return null}if(R===0){Y=null}else{if(ab){Y=X.shift()}else{if(!T||T>=R){if(Z){Y=X.join("")}else{if(X.length===1){Y=X[0]}else{Y=u.concat(X,R)}}X.length=0}else{if(T<X[0].length){var S=X[0];Y=S.slice(0,T);X[0]=S.slice(T)}else{if(T===X[0].length){Y=X.shift()}else{if(Z){Y=""}else{Y=new u(T)}var aa=0;for(var W=0,V=X.length;W<V&&aa<T;W++){var S=X[0];var U=Math.min(T-aa,S.length);if(Z){Y+=S.slice(0,U)}else{S.copy(Y,aa,0,U)}if(U<S.length){X[0]=S.slice(U)}else{X.shift()}aa+=U}}}}}}return Y}function N(R){var Q=R._readableState;if(Q.length>0){throw new Error("endReadable called on non-empty stream")}if(!Q.endEmitted){Q.ended=true;H(s,Q,R)}}function s(Q,R){if(!Q.endEmitted&&Q.length===0){Q.endEmitted=true;R.readable=false;R.emit("end")}}function L(R,T){for(var S=0,Q=R.length;S<Q;S++){T(R[S],S)}}function l(S,Q){for(var T=0,R=S.length;T<R;T++){if(S[T]===Q){return T}}return -1}}).call(this,f("_process"))},{"./_stream_duplex":32,_process:66,buffer:58,"core-util-is":37,events:62,inherits:10,isarray:38,"process-nextick-args":39,"string_decoder/":40,util:57}],35:[function(f,e,i){e.exports=h;var j=f("./_stream_duplex");var k=f("core-util-is");k.inherits=f("inherits");k.inherits(h,j);function m(n){this.afterTransform=function(p,o){return l(n,p,o)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function l(r,s,q){var p=r._transformState;p.transforming=false;var n=p.writecb;if(!n){return r.emit("error",new Error("no writecb in Transform class"))}p.writechunk=null;p.writecb=null;if(q!==null&&q!==undefined){r.push(q)}if(n){n(s)}var o=r._readableState;o.reading=false;if(o.needReadable||o.length<o.highWaterMark){r._read(o.highWaterMark)}}function h(n){if(!(this instanceof h)){return new h(n)}j.call(this,n);this._transformState=new m(this);var o=this;this._readableState.needReadable=true;this._readableState.sync=false;if(n){if(typeof n.transform==="function"){this._transform=n.transform}if(typeof n.flush==="function"){this._flush=n.flush}}this.once("prefinish",function(){if(typeof this._flush==="function"){this._flush(function(p){g(o,p)})}else{g(o)}})}h.prototype.push=function(n,o){this._transformState.needTransform=false;return j.prototype.push.call(this,n,o)};h.prototype._transform=function(o,p,n){throw new Error("not implemented")};h.prototype._write=function(p,r,n){var q=this._transformState;q.writecb=n;q.writechunk=p;q.writeencoding=r;if(!q.transforming){var o=this._readableState;if(q.needTransform||o.needReadable||o.length<o.highWaterMark){this._read(o.highWaterMark)}}};h.prototype._read=function(p){var o=this._transformState;if(o.writechunk!==null&&o.writecb&&!o.transforming){o.transforming=true;this._transform(o.writechunk,o.writeencoding,o.afterTransform)}else{o.needTransform=true}};function g(p,q){if(q){return p.emit("error",q)}var n=p._writableState;var o=p._transformState;if(n.length){throw new Error("calling transform done when ws.length != 0")}if(o.transforming){throw new Error("calling transform done when still transforming")}return p.push(null)}},{"./_stream_duplex":32,"core-util-is":37,inherits:10}],36:[function(s,h,H){h.exports=o;var w=s("process-nextick-args");var m=s("buffer").Buffer;o.WritableState=g;var e=s("core-util-is");e.inherits=s("inherits");var C={deprecate:s("util-deprecate")};var l;(function(){try{l=s("stream")}catch(I){}finally{if(!l){l=s("events").EventEmitter}}}());var m=s("buffer").Buffer;e.inherits(o,l);function n(){}function r(J,K,I){this.chunk=J;this.encoding=K;this.callback=I;this.next=null}var i;function g(I,L){i=i||s("./_stream_duplex");I=I||{};this.objectMode=!!I.objectMode;if(L instanceof i){this.objectMode=this.objectMode||!!I.writableObjectMode}var K=I.highWaterMark;var M=this.objectMode?16:16*1024;this.highWaterMark=(K||K===0)?K:M;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var J=I.decodeStrings===false;this.decodeStrings=!J;this.defaultEncoding=I.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(N){k(L,N)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}g.prototype.getBuffer=function F(){var J=this.bufferedRequest;var I=[];while(J){I.push(J);J=J.next}return I};(function(){try{Object.defineProperty(g.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(I){}}());var i;function o(I){i=i||s("./_stream_duplex");if(!(this instanceof o)&&!(this instanceof i)){return new o(I)}this._writableState=new g(I,this);this.writable=true;if(I){if(typeof I.write==="function"){this._write=I.write}if(typeof I.writev==="function"){this._writev=I.writev}}l.call(this)}o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function D(J,I){var K=new Error("write after end");J.emit("error",K);w(I,K)}function v(M,L,J,I){var K=true;if(!(m.isBuffer(J))&&typeof J!=="string"&&J!==null&&J!==undefined&&!L.objectMode){var N=new TypeError("Invalid non-string/buffer chunk");M.emit("error",N);w(I,N);K=false}return K}o.prototype.write=function(K,L,I){var M=this._writableState;var J=false;if(typeof L==="function"){I=L;L=null}if(m.isBuffer(K)){L="buffer"}else{if(!L){L=M.defaultEncoding}}if(typeof I!=="function"){I=n}if(M.ended){D(this,I)}else{if(v(this,M,K,I)){M.pendingcb++;J=x(this,M,K,L,I)}}return J};o.prototype.cork=function(){var I=this._writableState;I.corked++};o.prototype.uncork=function(){var I=this._writableState;if(I.corked){I.corked--;if(!I.writing&&!I.corked&&!I.finished&&!I.bufferProcessing&&I.bufferedRequest){f(this,I)}}};o.prototype.setDefaultEncoding=function y(I){if(typeof I==="string"){I=I.toLowerCase()}if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1)){throw new TypeError("Unknown encoding: "+I)}this._writableState.defaultEncoding=I};function B(K,I,J){if(!K.objectMode&&K.decodeStrings!==false&&typeof I==="string"){I=new m(I,J)}return I}function x(P,O,L,N,J){L=B(O,L,N);if(m.isBuffer(L)){N="buffer"}var I=O.objectMode?1:L.length;O.length+=I;var K=O.length<O.highWaterMark;if(!K){O.needDrain=true}if(O.writing||O.corked){var M=O.lastBufferedRequest;O.lastBufferedRequest=new r(L,N,J);if(M){M.next=O.lastBufferedRequest}else{O.bufferedRequest=O.lastBufferedRequest}}else{A(P,O,false,I,L,N,J)}return K}function A(O,N,L,J,K,M,I){N.writelen=J;N.writecb=I;N.writing=true;N.sync=true;if(L){O._writev(K,N.onwrite)}else{O._write(K,M,N.onwrite)}N.sync=false}function t(L,K,J,M,I){--K.pendingcb;if(J){w(I,M)}else{I(M)}L._writableState.errorEmitted=true;L.emit("error",M)}function q(I){I.writing=false;I.writecb=null;I.length-=I.writelen;I.writelen=0}function k(L,N){var K=L._writableState;var J=K.sync;var I=K.writecb;q(K);if(N){t(L,K,J,N,I)}else{var M=j(K);if(!M&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest){f(L,K)}if(J){w(z,L,K,M,I)}else{z(L,K,M,I)}}}function z(K,J,L,I){if(!L){u(K,J)}J.pendingcb--;I();p(K,J)}function u(J,I){if(I.length===0&&I.needDrain){I.needDrain=false;J.emit("drain")}}function f(Q,I){I.bufferProcessing=true;var P=I.bufferedRequest;if(Q._writev&&P&&P.next){var L=[];var M=[];while(P){M.push(P.callback);L.push(P);P=P.next}I.pendingcb++;I.lastBufferedRequest=null;A(Q,I,true,I.length,L,"",function(S){for(var R=0;R<M.length;R++){I.pendingcb--;M[R](S)}})}else{while(P){var O=P.chunk;var J=P.encoding;var K=P.callback;var N=I.objectMode?1:O.length;A(Q,I,false,N,O,J,K);P=P.next;if(I.writing){break}}if(P===null){I.lastBufferedRequest=null}}I.bufferedRequest=P;I.bufferProcessing=false}o.prototype._write=function(J,K,I){I(new Error("not implemented"))};o.prototype._writev=null;o.prototype.end=function(J,K,I){var L=this._writableState;if(typeof J==="function"){I=J;J=null;K=null}else{if(typeof K==="function"){I=K;K=null}}if(J!==null&&J!==undefined){this.write(J,K)}if(L.corked){L.corked=1;this.uncork()}if(!L.ending&&!L.finished){E(this,L,I)}};function j(I){return(I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing)}function G(J,I){if(!I.prefinished){I.prefinished=true;J.emit("prefinish")}}function p(K,J){var I=j(J);if(I){if(J.pendingcb===0){G(K,J);J.finished=true;K.emit("finish")}else{G(K,J)}}return I}function E(K,J,I){J.ending=true;p(K,J);if(I){if(J.finished){w(I)}else{K.once("finish",I)}}J.ended=true}},{"./_stream_duplex":32,buffer:58,"core-util-is":37,events:62,inherits:10,"process-nextick-args":39,"util-deprecate":41}],37:[function(f,g,e){(function(o){function q(x){if(Array.isArray){return Array.isArray(x)}return p(x)==="[object Array]"}e.isArray=q;function k(x){return typeof x==="boolean"}e.isBoolean=k;function h(x){return x===null}e.isNull=h;function s(x){return x==null}e.isNullOrUndefined=s;function w(x){return typeof x==="number"}e.isNumber=w;function i(x){return typeof x==="string"}e.isString=i;function u(x){return typeof x==="symbol"}e.isSymbol=u;function n(x){return x===void 0}e.isUndefined=n;function m(x){return p(x)==="[object RegExp]"}e.isRegExp=m;function v(x){return typeof x==="object"&&x!==null}e.isObject=v;function t(x){return p(x)==="[object Date]"}e.isDate=t;function r(x){return(p(x)==="[object Error]"||x instanceof Error)}e.isError=r;function j(x){return typeof x==="function"}e.isFunction=j;function l(x){return x===null||typeof x==="boolean"||typeof x==="number"||typeof x==="string"||typeof x==="symbol"||typeof x==="undefined"}e.isPrimitive=l;e.isBuffer=o.isBuffer;function p(x){return Object.prototype.toString.call(x)}}).call(this,{isBuffer:f("../../../../../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/is-buffer/index.js":64}],38:[function(f,g,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],39:[function(f,g,e){(function(h){if(!h.version||h.version.indexOf("v0.")===0||h.version.indexOf("v1.")===0&&h.version.indexOf("v1.8.")!==0){g.exports=i}else{g.exports=h.nextTick}function i(l){var j=new Array(arguments.length-1);var k=0;while(k<j.length){j[k++]=arguments[k]}h.nextTick(function m(){l.apply(null,j)})}}).call(this,f("_process"))},{_process:66}],40:[function(f,g,e){arguments[4][25][0].apply(e,arguments)},{buffer:58,dup:25}],41:[function(f,g,e){(function(j){g.exports=i;function i(m,n){if(h("noDeprecation")){return m}var l=false;function k(){if(!l){if(h("throwDeprecation")){throw new Error(n)}else{if(h("traceDeprecation")){console.trace(n)}else{console.warn(n)}}l=true}return m.apply(this,arguments)}return k}function h(l){try{if(!j.localStorage){return false}}catch(k){return false}var m=j.localStorage[l];if(null==m){return false}return String(m).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],42:[function(f,g,e){var h=(function(){try{return f("stream")}catch(i){}}());e=g.exports=f("./lib/_stream_readable.js");e.Stream=h||e;e.Readable=e;e.Writable=f("./lib/_stream_writable.js");e.Duplex=f("./lib/_stream_duplex.js");e.Transform=f("./lib/_stream_transform.js");e.PassThrough=f("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":32,"./lib/_stream_passthrough.js":33,"./lib/_stream_readable.js":34,"./lib/_stream_transform.js":35,"./lib/_stream_writable.js":36}],43:[function(f,g,e){arguments[4][32][0].apply(e,arguments)},{"./_stream_readable":44,"./_stream_writable":46,"core-util-is":47,dup:32,inherits:10,"process-nextick-args":49}],44:[function(f,g,e){arguments[4][34][0].apply(e,arguments)},{"./_stream_duplex":43,_process:66,buffer:58,"core-util-is":47,dup:34,events:62,inherits:10,isarray:48,"process-nextick-args":49,"string_decoder/":50,util:57}],45:[function(f,g,e){arguments[4][35][0].apply(e,arguments)},{"./_stream_duplex":43,"core-util-is":47,dup:35,inherits:10}],46:[function(f,g,e){arguments[4][36][0].apply(e,arguments)},{"./_stream_duplex":43,buffer:58,"core-util-is":47,dup:36,events:62,inherits:10,"process-nextick-args":49,"util-deprecate":51}],47:[function(f,g,e){arguments[4][37][0].apply(e,arguments)},{"../../../../../../../../../../../../../../../usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/is-buffer/index.js":64,dup:37}],48:[function(f,g,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],49:[function(f,g,e){arguments[4][39][0].apply(e,arguments)},{_process:66,dup:39}],50:[function(f,g,e){arguments[4][25][0].apply(e,arguments)},{buffer:58,dup:25}],51:[function(f,g,e){arguments[4][41][0].apply(e,arguments)},{dup:41}],52:[function(f,g,e){g.exports=f("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":45}],53:[function(f,g,e){(function(l){var i=f("readable-stream/transform"),m=f("util").inherits,n=f("xtend");function j(o){i.call(this,o);this._destroyed=false}m(j,i);j.prototype.destroy=function(p){if(this._destroyed){return}this._destroyed=true;var o=this;l.nextTick(function(){if(p){o.emit("error",p)}o.emit("close")})};function k(p,o,q){q(null,p)}function h(o){return function(r,q,p){if(typeof r=="function"){p=q;q=r;r={}}if(typeof q!="function"){q=k}if(typeof p!="function"){p=null}return o(r,q,p)}}g.exports=h(function(q,p,o){var r=new j(q);r._transform=p;if(o){r._flush=o}return r});g.exports.ctor=h(function(r,q,o){function p(s){if(!(this instanceof p)){return new p(s)}this.options=n(r,s);j.call(this,this.options)}m(p,j);p.prototype._transform=q;if(o){p.prototype._flush=o}return p});g.exports.obj=h(function(q,p,o){var r=new j(n({objectMode:true,highWaterMark:16},q));r._transform=p;if(o){r._flush=o}return r})}).call(this,f("_process"))},{_process:66,"readable-stream/transform":52,util:89,xtend:56}],54:[function(h,i,f){var j=(function(){return this})();var g=j.WebSocket||j.MozWebSocket;i.exports=g?e:null;function e(n,m,l){var k;if(m){k=new g(n,m)}else{k=new g(n)}return k}if(g){e.prototype=g.prototype}},{}],55:[function(f,g,e){(function(l,m){var h=f("through2");var k=f("duplexify");var i=f("ws");g.exports=j;function j(r,y,D){var B,z;var p=l.title==="browser"?A:q;var t=h.obj(p,s);if(y&&!Array.isArray(y)&&"object"===typeof y){D=y;y=null}if(!D){D={}}var n=D.browserBufferSize||1024*512;var v=D.browserBufferTimeout||1000;if(typeof r==="object"){z=r}else{z=new i(r,y,D);z.binaryType="arraybuffer"}if(z.readyState===1){B=t}else{B=k.obj();z.addEventListener("open",w)}B.socket=z;z.addEventListener("close",C);z.addEventListener("error",u);z.addEventListener("message",o);t.on("close",x);function q(F,E,G){z.send(F,G)}function A(F,E,G){if(z.bufferedAmount>n){setTimeout(A,v,F,E,G);return}try{z.send(F)}catch(H){return G(H)}G()}function s(E){z.close();E()}function w(){B.setReadable(t);B.setWritable(t);B.emit("connect")}function C(){B.end();B.destroy()}function u(E){B.destroy(E)}function o(E){var F=E.data;if(F instanceof ArrayBuffer){F=new m(new Uint8Array(F))}else{F=new m(F)}t.push(F)}function x(){z.close()}return B}}).call(this,f("_process"),f("buffer").Buffer)},{_process:66,buffer:58,duplexify:28,through2:53,ws:54}],56:[function(f,g,e){g.exports=i;var h=Object.prototype.hasOwnProperty;function i(){var m={};for(var k=0;k<arguments.length;k++){var l=arguments[k];for(var j in l){if(h.call(l,j)){m[j]=l[j]}}}return m}},{}],57:[function(f,g,e){},{}],58:[function(f,g,e){(function(x){
    /*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
     * @license  MIT
     */
    ;"use strict";var aH=f("base64-js");var j=f("ieee754");var i=f("isarray");e.Buffer=aF;e.SlowBuffer=aS;e.INSPECT_MAX_BYTES=50;aF.poolSize=8192;var a2={};aF.TYPED_ARRAY_SUPPORT=x.TYPED_ARRAY_SUPPORT!==undefined?x.TYPED_ARRAY_SUPPORT:aL();function aL(){function a6(){}try{var a5=new Uint8Array(1);a5.foo=function(){return 42};a5.constructor=a6;return a5.foo()===42&&a5.constructor===a6&&typeof a5.subarray==="function"&&a5.subarray(1,1).byteLength===0}catch(a7){return false}}function ar(){return aF.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function aF(a5){if(!(this instanceof aF)){if(arguments.length>1){return new aF(a5,arguments[1])}return new aF(a5)}if(!aF.TYPED_ARRAY_SUPPORT){this.length=0;this.parent=undefined}if(typeof a5==="number"){return aw(this,a5)}if(typeof a5==="string"){return k(this,a5,arguments.length>1?arguments[1]:"utf8")}return ag(this,a5)}function aw(a7,a6){a7=o(a7,a6<0?0:aO(a6)|0);if(!aF.TYPED_ARRAY_SUPPORT){for(var a5=0;a5<a6;a5++){a7[a5]=0}}return a7}function k(a8,a5,a7){if(typeof a7!=="string"||a7===""){a7="utf8"}var a6=ax(a5,a7)|0;a8=o(a8,a6);a8.write(a5,a7);return a8}function ag(a6,a5){if(aF.isBuffer(a5)){return ac(a6,a5)}if(i(a5)){return aY(a6,a5)}if(a5==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(a5.buffer instanceof ArrayBuffer){return R(a6,a5)}if(a5 instanceof ArrayBuffer){return am(a6,a5)}}if(a5.length){return O(a6,a5)}return az(a6,a5)}function ac(a7,a5){var a6=aO(a5.length)|0;a7=o(a7,a6);a5.copy(a7,0,0,a6);return a7}function aY(a7,a8){var a6=aO(a8.length)|0;a7=o(a7,a6);for(var a5=0;a5<a6;a5+=1){a7[a5]=a8[a5]&255}return a7}function R(a7,a8){var a6=aO(a8.length)|0;a7=o(a7,a6);for(var a5=0;a5<a6;a5+=1){a7[a5]=a8[a5]&255}return a7}function am(a5,a6){a6.byteLength;if(aF.TYPED_ARRAY_SUPPORT){a5=new Uint8Array(a6);a5.__proto__=aF.prototype}else{a5=R(a5,new Uint8Array(a6))}return a5}function O(a7,a8){var a6=aO(a8.length)|0;a7=o(a7,a6);for(var a5=0;a5<a6;a5+=1){a7[a5]=a8[a5]&255}return a7}function az(a8,a5){var a9;var a7=0;if(a5.type==="Buffer"&&i(a5.data)){a9=a5.data;a7=aO(a9.length)|0}a8=o(a8,a7);for(var a6=0;a6<a7;a6+=1){a8[a6]=a9[a6]&255}return a8}if(aF.TYPED_ARRAY_SUPPORT){aF.prototype.__proto__=Uint8Array.prototype;aF.__proto__=Uint8Array}else{aF.prototype.length=undefined;aF.prototype.parent=undefined}function o(a7,a6){if(aF.TYPED_ARRAY_SUPPORT){a7=new Uint8Array(a6);a7.__proto__=aF.prototype}else{a7.length=a6}var a5=a6!==0&&a6<=aF.poolSize>>>1;if(a5){a7.parent=a2}return a7}function aO(a5){if(a5>=ar()){throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ar().toString(16)+" bytes")}return a5|0}function aS(a6,a7){if(!(this instanceof aS)){return new aS(a6,a7)}var a5=new aF(a6,a7);delete a5.parent;return a5}aF.isBuffer=function A(a5){return !!(a5!=null&&a5._isBuffer)};aF.compare=function a1(a8,a7){if(!aF.isBuffer(a8)||!aF.isBuffer(a7)){throw new TypeError("Arguments must be Buffers")}if(a8===a7){return 0}var a6=a8.length;var ba=a7.length;var a9=0;var a5=Math.min(a6,ba);while(a9<a5){if(a8[a9]!==a7[a9]){break}++a9}if(a9!==a5){a6=a8[a9];ba=a7[a9]}if(a6<ba){return -1}if(ba<a6){return 1}return 0};aF.isEncoding=function X(a5){switch(String(a5).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};aF.concat=function aZ(a9,a8){if(!i(a9)){throw new TypeError("list argument must be an Array of Buffers.")}if(a9.length===0){return new aF(0)}var a6;if(a8===undefined){a8=0;for(a6=0;a6<a9.length;a6++){a8+=a9[a6].length}}var a5=new aF(a8);var ba=0;for(a6=0;a6<a9.length;a6++){var a7=a9[a6];a7.copy(a5,ba);ba+=a7.length}return a5};function ax(a6,a7){if(typeof a6!=="string"){a6=""+a6}var a5=a6.length;if(a5===0){return 0}var a8=false;for(;;){switch(a7){case"ascii":case"binary":case"raw":case"raws":return a5;case"utf8":case"utf-8":return aU(a6).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a5*2;case"hex":return a5>>>1;case"base64":return ah(a6).length;default:if(a8){return aU(a6).length}a7=(""+a7).toLowerCase();a8=true}}}aF.byteLength=ax;function Q(a6,a8,a5){var a7=false;a8=a8|0;a5=a5===undefined||a5===Infinity?this.length:a5|0;if(!a6){a6="utf8"}if(a8<0){a8=0}if(a5>this.length){a5=this.length}if(a5<=a8){return""}while(true){switch(a6){case"hex":return ae(this,a8,a5);case"utf8":case"utf-8":return aQ(this,a8,a5);case"ascii":return M(this,a8,a5);case"binary":return aR(this,a8,a5);case"base64":return aJ(this,a8,a5);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return al(this,a8,a5);default:if(a7){throw new TypeError("Unknown encoding: "+a6)}a6=(a6+"").toLowerCase();a7=true}}}aF.prototype._isBuffer=true;aF.prototype.toString=function at(){var a5=this.length|0;if(a5===0){return""}if(arguments.length===0){return aQ(this,0,a5)}return Q.apply(this,arguments)};aF.prototype.equals=function L(a5){if(!aF.isBuffer(a5)){throw new TypeError("Argument must be a Buffer")}if(this===a5){return true}return aF.compare(this,a5)===0};aF.prototype.inspect=function aV(){var a6="";var a5=e.INSPECT_MAX_BYTES;if(this.length>0){a6=this.toString("hex",0,a5).match(/.{2}/g).join(" ");if(this.length>a5){a6+=" ... "}}return"<Buffer "+a6+">"};aF.prototype.compare=function a1(a5){if(!aF.isBuffer(a5)){throw new TypeError("Argument must be a Buffer")}if(this===a5){return 0}return aF.compare(this,a5)};aF.prototype.indexOf=function n(a7,a6){if(a6>2147483647){a6=2147483647}else{if(a6<-2147483648){a6=-2147483648}}a6>>=0;if(this.length===0){return -1}if(a6>=this.length){return -1}if(a6<0){a6=Math.max(this.length+a6,0)}if(typeof a7==="string"){if(a7.length===0){return -1}return String.prototype.indexOf.call(this,a7,a6)}if(aF.isBuffer(a7)){return a5(this,a7,a6)}if(typeof a7==="number"){if(aF.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,a7,a6)}return a5(this,[a7],a6)}function a5(a8,bb,ba){var bc=-1;for(var a9=0;ba+a9<a8.length;a9++){if(a8[ba+a9]===bb[bc===-1?0:a9-bc]){if(bc===-1){bc=a9}if(a9-bc+1===bb.length){return ba+bc}}else{bc=-1}}return -1}throw new TypeError("val must be string, number or Buffer")};function u(a7,a6,bc,bb){bc=Number(bc)||0;var a9=a7.length-bc;if(!bb){bb=a9}else{bb=Number(bb);if(bb>a9){bb=a9}}var ba=a6.length;if(ba%2!==0){throw new Error("Invalid hex string")}if(bb>ba/2){bb=ba/2}for(var a8=0;a8<bb;a8++){var a5=parseInt(a6.substr(a8*2,2),16);if(isNaN(a5)){throw new Error("Invalid hex string")}a7[bc+a8]=a5}return a8}function Z(a6,a5,a8,a7){return Y(aU(a5,a6.length-a8),a6,a8,a7)}function a3(a6,a5,a8,a7){return Y(ai(a5),a6,a8,a7)}function aa(a6,a5,a8,a7){return a3(a6,a5,a8,a7)}function V(a6,a5,a8,a7){return Y(ah(a5),a6,a8,a7)}function z(a6,a5,a8,a7){return Y(av(a5,a6.length-a8),a6,a8,a7)}aF.prototype.write=function aX(a5,ba,a8,a7){if(ba===undefined){a7="utf8";a8=this.length;ba=0}else{if(a8===undefined&&typeof ba==="string"){a7=ba;a8=this.length;ba=0}else{if(isFinite(ba)){ba=ba|0;if(isFinite(a8)){a8=a8|0;if(a7===undefined){a7="utf8"}}else{a7=a8;a8=undefined}}else{var a9=a7;a7=ba;ba=a8|0;a8=a9}}}var a6=this.length-ba;if(a8===undefined||a8>a6){a8=a6}if((a5.length>0&&(a8<0||ba<0))||ba>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!a7){a7="utf8"}var bb=false;for(;;){switch(a7){case"hex":return u(this,a5,ba,a8);case"utf8":case"utf-8":return Z(this,a5,ba,a8);case"ascii":return a3(this,a5,ba,a8);case"binary":return aa(this,a5,ba,a8);case"base64":return V(this,a5,ba,a8);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a5,ba,a8);default:if(bb){throw new TypeError("Unknown encoding: "+a7)}a7=(""+a7).toLowerCase();bb=true}}};aF.prototype.toJSON=function G(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function aJ(a6,a7,a5){if(a7===0&&a5===a6.length){return aH.fromByteArray(a6)}else{return aH.fromByteArray(a6.slice(a7,a5))}}function aQ(a7,a6,a9){a9=Math.min(a7.length,a9);var bc=[];var ba=a6;while(ba<a9){var be=a7[ba];var bd=null;var bg=(be>239)?4:(be>223)?3:(be>191)?2:1;if(ba+bg<=a9){var bf,a5,bb,a8;switch(bg){case 1:if(be<128){bd=be}break;case 2:bf=a7[ba+1];if((bf&192)===128){a8=(be&31)<<6|(bf&63);if(a8>127){bd=a8}}break;case 3:bf=a7[ba+1];a5=a7[ba+2];if((bf&192)===128&&(a5&192)===128){a8=(be&15)<<12|(bf&63)<<6|(a5&63);if(a8>2047&&(a8<55296||a8>57343)){bd=a8}}break;case 4:bf=a7[ba+1];a5=a7[ba+2];bb=a7[ba+3];if((bf&192)===128&&(a5&192)===128&&(bb&192)===128){a8=(be&15)<<18|(bf&63)<<12|(a5&63)<<6|(bb&63);if(a8>65535&&a8<1114112){bd=a8}}}}if(bd===null){bd=65533;bg=1}else{if(bd>65535){bd-=65536;bc.push(bd>>>10&1023|55296);bd=56320|bd&1023}}bc.push(bd);ba+=bg}return af(bc)}var W=4096;function af(a6){var a5=a6.length;if(a5<=W){return String.fromCharCode.apply(String,a6)}var a8="";var a7=0;while(a7<a5){a8+=String.fromCharCode.apply(String,a6.slice(a7,a7+=W))}return a8}function M(a7,a9,a5){var a6="";a5=Math.min(a7.length,a5);for(var a8=a9;a8<a5;a8++){a6+=String.fromCharCode(a7[a8]&127)}return a6}function aR(a7,a9,a5){var a6="";a5=Math.min(a7.length,a5);for(var a8=a9;a8<a5;a8++){a6+=String.fromCharCode(a7[a8])}return a6}function ae(a8,ba,a6){var a5=a8.length;if(!ba||ba<0){ba=0}if(!a6||a6<0||a6>a5){a6=a5}var a7="";for(var a9=ba;a9<a6;a9++){a7+=aB(a8[a9])}return a7}function al(a7,ba,a6){var a5=a7.slice(ba,a6);var a9="";for(var a8=0;a8<a5.length;a8+=2){a9+=String.fromCharCode(a5[a8]+a5[a8+1]*256)}return a9}aF.prototype.slice=function D(ba,a6){var a5=this.length;ba=~~ba;a6=a6===undefined?a5:~~a6;if(ba<0){ba+=a5;if(ba<0){ba=0}}else{if(ba>a5){ba=a5}}if(a6<0){a6+=a5;if(a6<0){a6=0}}else{if(a6>a5){a6=a5}}if(a6<ba){a6=ba}var a9;if(aF.TYPED_ARRAY_SUPPORT){a9=this.subarray(ba,a6);a9.__proto__=aF.prototype}else{var a8=a6-ba;a9=new aF(a8,undefined);for(var a7=0;a7<a8;a7++){a9[a7]=this[a7+ba]}}if(a9.length){a9.parent=this.parent||this}return a9};function au(a7,a5,a6){if((a7%1)!==0||a7<0){throw new RangeError("offset is not uint")}if(a7+a5>a6){throw new RangeError("Trying to access beyond buffer length")}}aF.prototype.readUIntLE=function m(ba,a5,a8){ba=ba|0;a5=a5|0;if(!a8){au(ba,a5,this.length)}var a9=this[ba];var a7=1;var a6=0;while(++a6<a5&&(a7*=256)){a9+=this[ba+a6]*a7}return a9};aF.prototype.readUIntBE=function aC(a9,a5,a7){a9=a9|0;a5=a5|0;if(!a7){au(a9,a5,this.length)}var a8=this[a9+ --a5];var a6=1;while(a5>0&&(a6*=256)){a8+=this[a9+ --a5]*a6}return a8};aF.prototype.readUInt8=function q(a6,a5){if(!a5){au(a6,1,this.length)}return this[a6]};aF.prototype.readUInt16LE=function t(a6,a5){if(!a5){au(a6,2,this.length)}return this[a6]|(this[a6+1]<<8)};aF.prototype.readUInt16BE=function aM(a6,a5){if(!a5){au(a6,2,this.length)}return(this[a6]<<8)|this[a6+1]};aF.prototype.readUInt32LE=function P(a6,a5){if(!a5){au(a6,4,this.length)}return((this[a6])|(this[a6+1]<<8)|(this[a6+2]<<16))+(this[a6+3]*16777216)};aF.prototype.readUInt32BE=function a4(a6,a5){if(!a5){au(a6,4,this.length)}return(this[a6]*16777216)+((this[a6+1]<<16)|(this[a6+2]<<8)|this[a6+3])};aF.prototype.readIntLE=function an(ba,a5,a8){ba=ba|0;a5=a5|0;if(!a8){au(ba,a5,this.length)}var a9=this[ba];var a7=1;var a6=0;while(++a6<a5&&(a7*=256)){a9+=this[ba+a6]*a7}a7*=128;if(a9>=a7){a9-=Math.pow(2,8*a5)}return a9};aF.prototype.readIntBE=function E(ba,a5,a8){ba=ba|0;a5=a5|0;if(!a8){au(ba,a5,this.length)}var a6=a5;var a7=1;var a9=this[ba+ --a6];while(a6>0&&(a7*=256)){a9+=this[ba+ --a6]*a7}a7*=128;if(a9>=a7){a9-=Math.pow(2,8*a5)}return a9};aF.prototype.readInt8=function aN(a6,a5){if(!a5){au(a6,1,this.length)}if(!(this[a6]&128)){return(this[a6])}return((255-this[a6]+1)*-1)};aF.prototype.readInt16LE=function ay(a7,a5){if(!a5){au(a7,2,this.length)}var a6=this[a7]|(this[a7+1]<<8);return(a6&32768)?a6|4294901760:a6};aF.prototype.readInt16BE=function N(a7,a5){if(!a5){au(a7,2,this.length)}var a6=this[a7+1]|(this[a7]<<8);return(a6&32768)?a6|4294901760:a6};aF.prototype.readInt32LE=function aW(a6,a5){if(!a5){au(a6,4,this.length)}return(this[a6])|(this[a6+1]<<8)|(this[a6+2]<<16)|(this[a6+3]<<24)};aF.prototype.readInt32BE=function ad(a6,a5){if(!a5){au(a6,4,this.length)}return(this[a6]<<24)|(this[a6+1]<<16)|(this[a6+2]<<8)|(this[a6+3])};aF.prototype.readFloatLE=function p(a6,a5){if(!a5){au(a6,4,this.length)}return j.read(this,a6,true,23,4)};aF.prototype.readFloatBE=function aG(a6,a5){if(!a5){au(a6,4,this.length)}return j.read(this,a6,false,23,4)};aF.prototype.readDoubleLE=function h(a6,a5){if(!a5){au(a6,8,this.length)}return j.read(this,a6,true,52,8)};aF.prototype.readDoubleBE=function ao(a6,a5){if(!a5){au(a6,8,this.length)}return j.read(this,a6,false,52,8)};function aP(a6,a9,ba,a8,a5,a7){if(!aF.isBuffer(a6)){throw new TypeError("buffer must be a Buffer instance")}if(a9>a5||a9<a7){throw new RangeError("value is out of bounds")}if(ba+a8>a6.length){throw new RangeError("index out of range")}}aF.prototype.writeUIntLE=function aq(a7,ba,a5,a9){a7=+a7;ba=ba|0;a5=a5|0;if(!a9){aP(this,a7,ba,a5,Math.pow(2,8*a5),0)}var a8=1;var a6=0;this[ba]=a7&255;while(++a6<a5&&(a8*=256)){this[ba+a6]=(a7/a8)&255}return ba+a5};aF.prototype.writeUIntBE=function J(a7,ba,a5,a9){a7=+a7;ba=ba|0;a5=a5|0;if(!a9){aP(this,a7,ba,a5,Math.pow(2,8*a5),0)}var a6=a5-1;var a8=1;this[ba+a6]=a7&255;while(--a6>=0&&(a8*=256)){this[ba+a6]=(a7/a8)&255}return ba+a5};aF.prototype.writeUInt8=function aD(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,1,255,0)}if(!aF.TYPED_ARRAY_SUPPORT){a5=Math.floor(a5)}this[a7]=(a5&255);return a7+1};function aA(a6,a8,ba,a9){if(a8<0){a8=65535+a8+1}for(var a7=0,a5=Math.min(a6.length-ba,2);a7<a5;a7++){a6[ba+a7]=(a8&(255<<(8*(a9?a7:1-a7))))>>>(a9?a7:1-a7)*8}}aF.prototype.writeUInt16LE=function ab(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,2,65535,0)}if(aF.TYPED_ARRAY_SUPPORT){this[a7]=(a5&255);this[a7+1]=(a5>>>8)}else{aA(this,a5,a7,true)}return a7+2};aF.prototype.writeUInt16BE=function l(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,2,65535,0)}if(aF.TYPED_ARRAY_SUPPORT){this[a7]=(a5>>>8);this[a7+1]=(a5&255)}else{aA(this,a5,a7,false)}return a7+2};function U(a6,a8,ba,a9){if(a8<0){a8=4294967295+a8+1}for(var a7=0,a5=Math.min(a6.length-ba,4);a7<a5;a7++){a6[ba+a7]=(a8>>>(a9?a7:3-a7)*8)&255}}aF.prototype.writeUInt32LE=function ap(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,4,4294967295,0)}if(aF.TYPED_ARRAY_SUPPORT){this[a7+3]=(a5>>>24);this[a7+2]=(a5>>>16);this[a7+1]=(a5>>>8);this[a7]=(a5&255)}else{U(this,a5,a7,true)}return a7+4};aF.prototype.writeUInt32BE=function H(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,4,4294967295,0)}if(aF.TYPED_ARRAY_SUPPORT){this[a7]=(a5>>>24);this[a7+1]=(a5>>>16);this[a7+2]=(a5>>>8);this[a7+3]=(a5&255)}else{U(this,a5,a7,false)}return a7+4};aF.prototype.writeIntLE=function y(a9,bc,a6,bb){a9=+a9;bc=bc|0;if(!bb){var a5=Math.pow(2,8*a6-1);aP(this,a9,bc,a6,a5-1,-a5)}var a7=0;var ba=1;var a8=a9<0?1:0;this[bc]=a9&255;while(++a7<a6&&(ba*=256)){this[bc+a7]=((a9/ba)>>0)-a8&255}return bc+a6};aF.prototype.writeIntBE=function aT(a9,bc,a6,bb){a9=+a9;bc=bc|0;if(!bb){var a5=Math.pow(2,8*a6-1);aP(this,a9,bc,a6,a5-1,-a5)}var a7=a6-1;var ba=1;var a8=a9<0?1:0;this[bc+a7]=a9&255;while(--a7>=0&&(ba*=256)){this[bc+a7]=((a9/ba)>>0)-a8&255}return bc+a6};aF.prototype.writeInt8=function aj(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,1,127,-128)}if(!aF.TYPED_ARRAY_SUPPORT){a5=Math.floor(a5)}if(a5<0){a5=255+a5+1}this[a7]=(a5&255);return a7+1};aF.prototype.writeInt16LE=function ak(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,2,32767,-32768)}if(aF.TYPED_ARRAY_SUPPORT){this[a7]=(a5&255);this[a7+1]=(a5>>>8)}else{aA(this,a5,a7,true)}return a7+2};aF.prototype.writeInt16BE=function C(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,2,32767,-32768)}if(aF.TYPED_ARRAY_SUPPORT){this[a7]=(a5>>>8);this[a7+1]=(a5&255)}else{aA(this,a5,a7,false)}return a7+2};aF.prototype.writeInt32LE=function aI(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,4,2147483647,-2147483648)}if(aF.TYPED_ARRAY_SUPPORT){this[a7]=(a5&255);this[a7+1]=(a5>>>8);this[a7+2]=(a5>>>16);this[a7+3]=(a5>>>24)}else{U(this,a5,a7,true)}return a7+4};aF.prototype.writeInt32BE=function T(a5,a7,a6){a5=+a5;a7=a7|0;if(!a6){aP(this,a5,a7,4,2147483647,-2147483648)}if(a5<0){a5=4294967295+a5+1}if(aF.TYPED_ARRAY_SUPPORT){this[a7]=(a5>>>24);this[a7+1]=(a5>>>16);this[a7+2]=(a5>>>8);this[a7+3]=(a5&255)}else{U(this,a5,a7,false)}return a7+4};function S(a6,a9,ba,a8,a5,a7){if(a9>a5||a9<a7){throw new RangeError("value is out of bounds")}if(ba+a8>a6.length){throw new RangeError("index out of range")}if(ba<0){throw new RangeError("index out of range")}}function B(a5,a6,a9,a8,a7){if(!a7){S(a5,a6,a9,4,3.4028234663852886e+38,-3.4028234663852886e+38)}j.write(a5,a6,a9,a8,23,4);return a9+4}aF.prototype.writeFloatLE=function r(a5,a7,a6){return B(this,a5,a7,true,a6)};aF.prototype.writeFloatBE=function aK(a5,a7,a6){return B(this,a5,a7,false,a6)};function w(a5,a6,a9,a8,a7){if(!a7){S(a5,a6,a9,8,1.7976931348623157e+308,-1.7976931348623157e+308)}j.write(a5,a6,a9,a8,52,8);return a9+8}aF.prototype.writeDoubleLE=function K(a5,a7,a6){return w(this,a5,a7,true,a6)};aF.prototype.writeDoubleBE=function a0(a5,a7,a6){return w(this,a5,a7,false,a6)};aF.prototype.copy=function I(a8,a9,ba,a6){if(!ba){ba=0}if(!a6&&a6!==0){a6=this.length}if(a9>=a8.length){a9=a8.length}if(!a9){a9=0}if(a6>0&&a6<ba){a6=ba}if(a6===ba){return 0}if(a8.length===0||this.length===0){return 0}if(a9<0){throw new RangeError("targetStart out of bounds")}if(ba<0||ba>=this.length){throw new RangeError("sourceStart out of bounds")}if(a6<0){throw new RangeError("sourceEnd out of bounds")}if(a6>this.length){a6=this.length}if(a8.length-a9<a6-ba){a6=a8.length-a9+ba}var a5=a6-ba;var a7;if(this===a8&&ba<a9&&a9<a6){for(a7=a5-1;a7>=0;a7--){a8[a7+a9]=this[a7+ba]}}else{if(a5<1000||!aF.TYPED_ARRAY_SUPPORT){for(a7=0;a7<a5;a7++){a8[a7+a9]=this[a7+ba]}}else{Uint8Array.prototype.set.call(a8,this.subarray(ba,ba+a5),a9)}}return a5};aF.prototype.fill=function F(a9,ba,a7){if(!a9){a9=0}if(!ba){ba=0}if(!a7){a7=this.length}if(a7<ba){throw new RangeError("end < start")}if(a7===ba){return}if(this.length===0){return}if(ba<0||ba>=this.length){throw new RangeError("start out of bounds")}if(a7<0||a7>this.length){throw new RangeError("end out of bounds")}var a8;if(typeof a9==="number"){for(a8=ba;a8<a7;a8++){this[a8]=a9}}else{var a6=aU(a9.toString());var a5=a6.length;for(a8=ba;a8<a7;a8++){this[a8]=a6[a8%a5]}}return this};var aE=/[^+\/0-9A-Za-z-_]/g;function s(a5){a5=v(a5).replace(aE,"");if(a5.length<2){return""}while(a5.length%4!==0){a5=a5+"="}return a5}function v(a5){if(a5.trim){return a5.trim()}return a5.replace(/^\s+|\s+$/g,"")}function aB(a5){if(a5<16){return"0"+a5.toString(16)}return a5.toString(16)}function aU(a8,a6){a6=a6||Infinity;var a7;var bb=a8.length;var ba=null;var a5=[];for(var a9=0;a9<bb;a9++){a7=a8.charCodeAt(a9);if(a7>55295&&a7<57344){if(!ba){if(a7>56319){if((a6-=3)>-1){a5.push(239,191,189)}continue}else{if(a9+1===bb){if((a6-=3)>-1){a5.push(239,191,189)}continue}}ba=a7;continue}if(a7<56320){if((a6-=3)>-1){a5.push(239,191,189)}ba=a7;continue}a7=(ba-55296<<10|a7-56320)+65536}else{if(ba){if((a6-=3)>-1){a5.push(239,191,189)}}}ba=null;if(a7<128){if((a6-=1)<0){break}a5.push(a7)}else{if(a7<2048){if((a6-=2)<0){break}a5.push(a7>>6|192,a7&63|128)}else{if(a7<65536){if((a6-=3)<0){break}a5.push(a7>>12|224,a7>>6&63|128,a7&63|128)}else{if(a7<1114112){if((a6-=4)<0){break}a5.push(a7>>18|240,a7>>12&63|128,a7>>6&63|128,a7&63|128)}else{throw new Error("Invalid code point")}}}}}return a5}function ai(a7){var a5=[];for(var a6=0;a6<a7.length;a6++){a5.push(a7.charCodeAt(a6)&255)}return a5}function av(ba,a6){var bb,a7,a9;var a5=[];for(var a8=0;a8<ba.length;a8++){if((a6-=2)<0){break}bb=ba.charCodeAt(a8);a7=bb>>8;a9=bb%256;a5.push(a9);a5.push(a7)}return a5}function ah(a5){return aH.toByteArray(s(a5))}function Y(a8,a9,a7,a6){for(var a5=0;a5<a6;a5++){if((a5+a7>=a9.length)||(a5>=a8.length)){break}a9[a5+a7]=a8[a5]}return a5}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":59,ieee754:60,isarray:61}],59:[function(f,g,e){(function(n){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var q=(typeof Uint8Array!=="undefined")?Uint8Array:Array;var p="+".charCodeAt(0);var i="/".charCodeAt(0);var m="0".charCodeAt(0);var j="a".charCodeAt(0);var r="A".charCodeAt(0);var t="-".charCodeAt(0);var l="_".charCodeAt(0);function h(u){var v=u.charCodeAt(0);if(v===p||v===t){return 62}if(v===i||v===l){return 63}if(v<m){return -1}if(v<m+10){return v-m+26+26}if(v<r+26){return v-r}if(v<j+26){return v-j+26}}function o(u){var y,x,v,z,w,A;if(u.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var B=u.length;w=u.charAt(B-2)==="="?2:u.charAt(B-1)==="="?1:0;A=new q(u.length*3/4-w);v=w>0?u.length-4:u.length;var D=0;function C(E){A[D++]=E}for(y=0,x=0;y<v;y+=4,x+=3){z=(h(u.charAt(y))<<18)|(h(u.charAt(y+1))<<12)|(h(u.charAt(y+2))<<6)|h(u.charAt(y+3));C((z&16711680)>>16);C((z&65280)>>8);C(z&255)}if(w===2){z=(h(u.charAt(y))<<2)|(h(u.charAt(y+1))>>4);C(z&255)}else{if(w===1){z=(h(u.charAt(y))<<10)|(h(u.charAt(y+1))<<4)|(h(u.charAt(y+2))>>2);C((z>>8)&255);C(z&255)}}return A}function s(u){var y;var x=u.length%3;var w="";var v,A;function z(C){return k.charAt(C)}function B(C){return z(C>>18&63)+z(C>>12&63)+z(C>>6&63)+z(C&63)}for(y=0,A=u.length-x;y<A;y+=3){v=(u[y]<<16)+(u[y+1]<<8)+(u[y+2]);w+=B(v)}switch(x){case 1:v=u[u.length-1];w+=z(v>>2);w+=z((v<<4)&63);w+="==";break;case 2:v=(u[u.length-2]<<8)+(u[u.length-1]);w+=z(v>>10);w+=z((v>>4)&63);w+=z((v<<2)&63);w+="=";break;default:break}return w}n.toByteArray=o;n.fromByteArray=s}(typeof e==="undefined"?(this.base64js={}):e))},{}],60:[function(f,g,e){e.read=function(p,o,k,j,t){var u,n;var l=t*8-j-1;var r=(1<<l)-1;var h=r>>1;var w=-7;var q=k?(t-1):0;var v=k?-1:1;var x=p[o+q];q+=v;u=x&((1<<(-w))-1);x>>=(-w);w+=l;for(;w>0;u=u*256+p[o+q],q+=v,w-=8){}n=u&((1<<(-w))-1);u>>=(-w);w+=j;for(;w>0;n=n*256+p[o+q],q+=v,w-=8){}if(u===0){u=1-h}else{if(u===r){return n?NaN:((x?-1:1)*Infinity)}else{n=n+Math.pow(2,j);u=u-h}}return(x?-1:1)*n*Math.pow(2,u-j)};e.write=function(q,y,p,k,j,u){var v,n,x;var l=u*8-j-1;var t=(1<<l)-1;var h=t>>1;var o=(j===23?Math.pow(2,-24)-Math.pow(2,-77):0);var r=k?0:(u-1);var w=k?1:-1;var z=y<0||(y===0&&1/y<0)?1:0;y=Math.abs(y);if(isNaN(y)||y===Infinity){n=isNaN(y)?1:0;v=t}else{v=Math.floor(Math.log(y)/Math.LN2);if(y*(x=Math.pow(2,-v))<1){v--;x*=2}if(v+h>=1){y+=o/x}else{y+=o*Math.pow(2,1-h)}if(y*x>=2){v++;x/=2}if(v+h>=t){n=0;v=t}else{if(v+h>=1){n=(y*x-1)*Math.pow(2,j);v=v+h}else{n=y*Math.pow(2,h-1)*Math.pow(2,j);v=0}}}for(;j>=8;q[p+r]=n&255,r+=w,n/=256,j-=8){}v=(v<<j)|n;l+=j;for(;l>0;q[p+r]=v&255,r+=w,v/=256,l-=8){}q[p+r-w]|=z*128}},{}],61:[function(f,g,e){var h={}.toString;g.exports=Array.isArray||function(i){return h.call(i)=="[object Array]"}},{}],62:[function(i,j,g){function k(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}j.exports=k;k.EventEmitter=k;k.prototype._events=undefined;k.prototype._maxListeners=undefined;k.defaultMaxListeners=10;k.prototype.setMaxListeners=function(m){if(!h(m)||m<0||isNaN(m)){throw TypeError("n must be a positive number")}this._maxListeners=m;return this};k.prototype.emit=function(r){var s,q,m,n,o,p;if(!this._events){this._events={}}if(r==="error"){if(!this._events.error||(e(this._events.error)&&!this._events.error.length)){s=arguments[1];if(s instanceof Error){throw s}throw TypeError('Uncaught, unspecified "error" event.')}}q=this._events[r];if(f(q)){return false}if(l(q)){switch(arguments.length){case 1:q.call(this);break;case 2:q.call(this,arguments[1]);break;case 3:q.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1);q.apply(this,n)}}else{if(e(q)){n=Array.prototype.slice.call(arguments,1);p=q.slice();m=p.length;for(o=0;o<m;o++){p[o].apply(this,n)}}}return true};k.prototype.addListener=function(o,p){var n;if(!l(p)){throw TypeError("listener must be a function")}if(!this._events){this._events={}}if(this._events.newListener){this.emit("newListener",o,l(p.listener)?p.listener:p)}if(!this._events[o]){this._events[o]=p}else{if(e(this._events[o])){this._events[o].push(p)}else{this._events[o]=[this._events[o],p]}}if(e(this._events[o])&&!this._events[o].warned){if(!f(this._maxListeners)){n=this._maxListeners}else{n=k.defaultMaxListeners}if(n&&n>0&&this._events[o].length>n){this._events[o].warned=true;console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[o].length);if(typeof console.trace==="function"){console.trace()}}}return this};k.prototype.on=k.prototype.addListener;k.prototype.once=function(m,o){if(!l(o)){throw TypeError("listener must be a function")}var p=false;function n(){this.removeListener(m,n);if(!p){p=true;o.apply(this,arguments)}}n.listener=o;this.on(m,n);return this};k.prototype.removeListener=function(o,r){var q,m,p,n;if(!l(r)){throw TypeError("listener must be a function")}if(!this._events||!this._events[o]){return this}q=this._events[o];p=q.length;m=-1;if(q===r||(l(q.listener)&&q.listener===r)){delete this._events[o];if(this._events.removeListener){this.emit("removeListener",o,r)}}else{if(e(q)){for(n=p;n-->0;){if(q[n]===r||(q[n].listener&&q[n].listener===r)){m=n;break}}if(m<0){return this}if(q.length===1){q.length=0;delete this._events[o]}else{q.splice(m,1)}if(this._events.removeListener){this.emit("removeListener",o,r)}}}return this};k.prototype.removeAllListeners=function(o){var m,n;if(!this._events){return this}if(!this._events.removeListener){if(arguments.length===0){this._events={}}else{if(this._events[o]){delete this._events[o]}}return this}if(arguments.length===0){for(m in this._events){if(m==="removeListener"){continue}this.removeAllListeners(m)}this.removeAllListeners("removeListener");this._events={};return this}n=this._events[o];if(l(n)){this.removeListener(o,n)}else{if(n){while(n.length){this.removeListener(o,n[n.length-1])}}}delete this._events[o];return this};k.prototype.listeners=function(n){var m;if(!this._events||!this._events[n]){m=[]}else{if(l(this._events[n])){m=[this._events[n]]}else{m=this._events[n].slice()}}return m};k.prototype.listenerCount=function(m){if(this._events){var n=this._events[m];if(l(n)){return 1}else{if(n){return n.length}}}return 0};k.listenerCount=function(n,m){return n.listenerCount(m)};function l(m){return typeof m==="function"}function h(m){return typeof m==="number"}function e(m){return typeof m==="object"&&m!==null}function f(m){return m===void 0}},{}],63:[function(f,g,e){arguments[4][10][0].apply(e,arguments)},{dup:10}],64:[function(f,g,e){g.exports=function(h){return !!(h!=null&&(h._isBuffer||(h.constructor&&typeof h.constructor.isBuffer==="function"&&h.constructor.isBuffer(h))))}},{}],65:[function(f,g,e){arguments[4][24][0].apply(e,arguments)},{dup:24}],66:[function(g,f,i){var e=f.exports={};var j=[];var n=false;var k;var l=-1;function m(){n=false;if(k.length){j=k.concat(j)}else{l=-1}if(j.length){p()}}function p(){if(n){return}var r=setTimeout(m);n=true;var q=j.length;while(q){k=j;j=[];while(++l<q){if(k){k[l].run()}}l=-1;q=j.length}k=null;n=false;clearTimeout(r)}e.nextTick=function(q){var r=new Array(arguments.length-1);if(arguments.length>1){for(var s=1;s<arguments.length;s++){r[s-1]=arguments[s]}}j.push(new h(q,r));if(j.length===1&&!n){setTimeout(p,0)}};function h(q,r){this.fun=q;this.array=r}h.prototype.run=function(){this.fun.apply(null,this.array)};e.title="browser";e.browser=true;e.env={};e.argv=[];e.version="";e.versions={};function o(){}e.on=o;e.addListener=o;e.once=o;e.off=o;e.removeListener=o;e.removeAllListeners=o;e.emit=o;e.binding=function(q){throw new Error("process.binding is not supported")};e.cwd=function(){return"/"};e.chdir=function(q){throw new Error("process.chdir is not supported")};e.umask=function(){return 0}},{}],67:[function(f,g,e){(function(h){
    /*! https://mths.be/punycode v1.4.0 by @mathias */
    ;(function(H){var x=typeof e=="object"&&e&&!e.nodeType&&e;var P=typeof g=="object"&&g&&!g.nodeType&&g;var G=typeof h=="object"&&h;if(G.global===G||G.window===G||G.self===G){H=G}var m,A=2147483647,t=36,v=1,y=26,q=38,u=700,w=72,p=128,N="-",D=/^xn--/,l=/[^\x20-\x7E]/,i=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},o=t-v,J=Math.floor,F=String.fromCharCode,O;function I(Q){throw new RangeError(z[Q])}function L(T,R){var S=T.length;var Q=[];while(S--){Q[S]=R(T[S])}return Q}function k(R,S){var U=R.split("@");var Q="";if(U.length>1){Q=U[0]+"@";R=U[1]}R=R.replace(i,"\x2E");var V=R.split(".");var T=L(V,S).join(".");return Q+T}function s(T){var S=[],R=0,U=T.length,V,Q;while(R<U){V=T.charCodeAt(R++);if(V>=55296&&V<=56319&&R<U){Q=T.charCodeAt(R++);if((Q&64512)==56320){S.push(((V&1023)<<10)+(Q&1023)+65536)}else{S.push(V);R--}}else{S.push(V)}}return S}function K(Q){return L(Q,function(S){var R="";if(S>65535){S-=65536;R+=F(S>>>10&1023|55296);S=56320|S&1023}R+=F(S);return R}).join("")}function n(Q){if(Q-48<10){return Q-22}if(Q-65<26){return Q-65}if(Q-97<26){return Q-97}return t}function E(R,Q){return R+22+75*(R<26)-((Q!=0)<<5)}function j(T,R,S){var Q=0;T=S?J(T/u):T>>1;T+=J(T/R);for(;T>o*y>>1;Q+=t){T=J(T/o)}return J(Q+(o+1)*T/(T+q))}function C(ac){var S=[],V=ac.length,X,Y=0,R=p,Z=w,U,W,aa,Q,ad,T,ab,af,ae;U=ac.lastIndexOf(N);if(U<0){U=0}for(W=0;W<U;++W){if(ac.charCodeAt(W)>=128){I("not-basic")}S.push(ac.charCodeAt(W))}for(aa=U>0?U+1:0;aa<V;){for(Q=Y,ad=1,T=t;;T+=t){if(aa>=V){I("invalid-input")}ab=n(ac.charCodeAt(aa++));if(ab>=t||ab>J((A-Y)/ad)){I("overflow")}Y+=ab*ad;af=T<=Z?v:(T>=Z+y?y:T-Z);if(ab<af){break}ae=t-af;if(ad>J(A/ae)){I("overflow")}ad*=ae}X=S.length+1;Z=j(Y-Q,X,Q==0);if(J(Y/X)>A-R){I("overflow")}R+=J(Y/X);Y%=X;S.splice(Y++,0,R)}return K(S)}function r(ac){var T,ae,Z,R,aa,Y,U,Q,X,ag,ad,S=[],W,V,af,ab;ac=s(ac);W=ac.length;T=p;ae=0;aa=w;for(Y=0;Y<W;++Y){ad=ac[Y];if(ad<128){S.push(F(ad))}}Z=R=S.length;if(R){S.push(N)}while(Z<W){for(U=A,Y=0;Y<W;++Y){ad=ac[Y];if(ad>=T&&ad<U){U=ad}}V=Z+1;if(U-T>J((A-ae)/V)){I("overflow")}ae+=(U-T)*V;T=U;for(Y=0;Y<W;++Y){ad=ac[Y];if(ad<T&&++ae>A){I("overflow")}if(ad==T){for(Q=ae,X=t;;X+=t){ag=X<=aa?v:(X>=aa+y?y:X-aa);if(Q<ag){break}ab=Q-ag;af=t-ag;S.push(F(E(ag+ab%af,0)));Q=J(ab/af)}S.push(F(E(Q,0)));aa=j(ae,V,Z==R);ae=0;++Z}}++ae;++T}return S.join("")}function B(Q){return k(Q,function(R){return D.test(R)?C(R.slice(4).toLowerCase()):R})}function M(Q){return k(Q,function(R){return l.test(R)?"xn--"+r(R):R})}m={version:"1.3.2",ucs2:{decode:s,encode:K},decode:C,encode:r,toASCII:M,toUnicode:B};if(typeof d=="function"&&typeof d.amd=="object"&&d.amd){d("punycode",function(){return m})}else{if(x&&P){if(g.exports==x){P.exports=m}else{for(O in m){m.hasOwnProperty(O)&&(x[O]=m[O])}}}else{H.punycode=m}}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],68:[function(g,h,f){function i(j,k){return Object.prototype.hasOwnProperty.call(j,k)}h.exports=function(p,z,y,A){z=z||"&";y=y||"=";var m={};if(typeof p!=="string"||p.length===0){return m}var o=/\+/g;p=p.split(z);var s=1000;if(A&&typeof A.maxKeys==="number"){s=A.maxKeys}var n=p.length;if(s>0&&n>s){n=s}for(var l=0;l<n;++l){var r=p[l].replace(o,"%20"),t=r.indexOf(y),q,w,j,u;if(t>=0){q=r.substr(0,t);w=r.substr(t+1)}else{q=r;w=""}j=decodeURIComponent(q);u=decodeURIComponent(w);if(!i(m,j)){m[j]=u}else{if(e(m[j])){m[j].push(u)}else{m[j]=[m[j],u]}}}return m};var e=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"}},{}],69:[function(h,i,g){var k=function(l){switch(typeof l){case"string":return l;case"boolean":return l?"true":"false";case"number":return isFinite(l)?l:"";default:return""}};i.exports=function(o,n,l,m){n=n||"&";l=l||"=";if(o===null){o=undefined}if(typeof o==="object"){return j(f(o),function(p){var q=encodeURIComponent(k(p))+l;if(e(o[p])){return j(o[p],function(r){return q+encodeURIComponent(k(r))}).join(n)}else{return q+encodeURIComponent(k(o[p]))}}).join(n)}if(!m){return""}return encodeURIComponent(k(m))+l+encodeURIComponent(k(o))};var e=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function j(l,o){if(l.map){return l.map(o)}var n=[];for(var m=0;m<l.length;m++){n.push(o(l[m],m))}return n}var f=Object.keys||function(n){var m=[];for(var l in n){if(Object.prototype.hasOwnProperty.call(n,l)){m.push(l)}}return m}},{}],70:[function(f,g,e){e.decode=e.parse=f("./decode");e.encode=e.stringify=f("./encode")},{"./decode":68,"./encode":69}],71:[function(f,g,e){arguments[4][17][0].apply(e,arguments)},{"./lib/_stream_duplex.js":72,dup:17}],72:[function(f,g,e){arguments[4][32][0].apply(e,arguments)},{"./_stream_readable":74,"./_stream_writable":76,"core-util-is":77,dup:32,inherits:63,"process-nextick-args":78}],73:[function(f,g,e){arguments[4][33][0].apply(e,arguments)},{"./_stream_transform":75,"core-util-is":77,dup:33,inherits:63}],74:[function(f,g,e){arguments[4][34][0].apply(e,arguments)},{"./_stream_duplex":72,_process:66,buffer:58,"core-util-is":77,dup:34,events:62,inherits:63,isarray:65,"process-nextick-args":78,"string_decoder/":85,util:57}],75:[function(f,g,e){arguments[4][35][0].apply(e,arguments)},{"./_stream_duplex":72,"core-util-is":77,dup:35,inherits:63}],76:[function(f,g,e){arguments[4][36][0].apply(e,arguments)},{"./_stream_duplex":72,buffer:58,"core-util-is":77,dup:36,events:62,inherits:63,"process-nextick-args":78,"util-deprecate":79}],77:[function(f,g,e){(function(o){function q(x){if(Array.isArray){return Array.isArray(x)}return p(x)==="[object Array]"}e.isArray=q;function k(x){return typeof x==="boolean"}e.isBoolean=k;function h(x){return x===null}e.isNull=h;function s(x){return x==null}e.isNullOrUndefined=s;function w(x){return typeof x==="number"}e.isNumber=w;function i(x){return typeof x==="string"}e.isString=i;function u(x){return typeof x==="symbol"}e.isSymbol=u;function n(x){return x===void 0}e.isUndefined=n;function m(x){return p(x)==="[object RegExp]"}e.isRegExp=m;function v(x){return typeof x==="object"&&x!==null}e.isObject=v;function t(x){return p(x)==="[object Date]"}e.isDate=t;function r(x){return(p(x)==="[object Error]"||x instanceof Error)}e.isError=r;function j(x){return typeof x==="function"}e.isFunction=j;function l(x){return x===null||typeof x==="boolean"||typeof x==="number"||typeof x==="string"||typeof x==="symbol"||typeof x==="undefined"}e.isPrimitive=l;e.isBuffer=o.isBuffer;function p(x){return Object.prototype.toString.call(x)}}).call(this,{isBuffer:f("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":64}],78:[function(f,g,e){arguments[4][39][0].apply(e,arguments)},{_process:66,dup:39}],79:[function(f,g,e){arguments[4][41][0].apply(e,arguments)},{dup:41}],80:[function(f,g,e){g.exports=f("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":73}],81:[function(f,g,e){arguments[4][42][0].apply(e,arguments)},{"./lib/_stream_duplex.js":72,"./lib/_stream_passthrough.js":73,"./lib/_stream_readable.js":74,"./lib/_stream_transform.js":75,"./lib/_stream_writable.js":76,dup:42}],82:[function(f,g,e){arguments[4][52][0].apply(e,arguments)},{"./lib/_stream_transform.js":75,dup:52}],83:[function(f,g,e){g.exports=f("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":76}],84:[function(g,h,f){h.exports=i;var e=g("events").EventEmitter;var j=g("inherits");j(i,e);i.Readable=g("readable-stream/readable.js");i.Writable=g("readable-stream/writable.js");i.Duplex=g("readable-stream/duplex.js");i.Transform=g("readable-stream/transform.js");i.PassThrough=g("readable-stream/passthrough.js");i.Stream=i;function i(){e.call(this)}i.prototype.pipe=function(p,t){var k=this;function q(u){if(p.writable){if(false===p.write(u)&&k.pause){k.pause()}}}k.on("data",q);function m(){if(k.readable&&k.resume){k.resume()}}p.on("drain",m);if(!p._isStdio&&(!t||t.end!==false)){k.on("end",s);k.on("close",r)}var n=false;function s(){if(n){return}n=true;p.end()}function r(){if(n){return}n=true;if(typeof p.destroy==="function"){p.destroy()}}function o(u){l();if(e.listenerCount(this,"error")===0){throw u}}k.on("error",o);p.on("error",o);function l(){k.removeListener("data",q);p.removeListener("drain",m);k.removeListener("end",s);k.removeListener("close",r);k.removeListener("error",o);p.removeListener("error",o);k.removeListener("end",l);k.removeListener("close",l);p.removeListener("close",l)}k.on("end",l);k.on("close",l);p.on("close",l);p.emit("pipe",k);return p}},{events:62,inherits:63,"readable-stream/duplex.js":71,"readable-stream/passthrough.js":80,"readable-stream/readable.js":81,"readable-stream/transform.js":82,"readable-stream/writable.js":83}],85:[function(f,g,e){arguments[4][25][0].apply(e,arguments)},{buffer:58,dup:25}],86:[function(r,i,B){var h=r("punycode");var f=r("./util");B.parse=y;B.resolve=s;B.resolveObject=o;B.format=t;B.Url=v;function v(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var m=/^([a-z0-9.+-]+:)/i,e=/:[0-9]*$/,j=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(p),z=["'"].concat(g),A=["%","/","?",";","#"].concat(z),x=["/","?","#"],C=255,q=/^[+a-z0-9A-Z_-]{0,63}$/,l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:true,"javascript:":true},u={javascript:true,"javascript:":true},n={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},k=r("querystring");function y(E,G,F){if(E&&f.isObject(E)&&E instanceof v){return E}var D=new v;D.parse(E,G,F);return D}v.prototype.parse=function(M,ac,ah){if(!f.isString(M)){throw new TypeError("Parameter 'url' must be a string, not "+typeof M)}var D=M.indexOf("?"),F=(D!==-1&&D<M.indexOf("#"))?"?":"#",N=M.split(F),J=/\\/g;N[0]=N[0].replace(J,"/");M=N.join(F);var S=M;S=S.trim();if(!ah&&M.split("#").length===1){var I=j.exec(S);if(I){this.path=S;this.href=S;this.pathname=I[1];if(I[2]){this.search=I[2];if(ac){this.query=k.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else{if(ac){this.search="";this.query={}}}return this}}var W=m.exec(S);if(W){W=W[0];var ai=W.toLowerCase();this.protocol=ai;S=S.substr(W.length)}if(ah||W||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var L=S.substr(0,2)==="//";if(L&&!(W&&u[W])){S=S.substr(2);this.slashes=true}}if(!u[W]&&(L||(W&&!n[W]))){var G=-1;for(var ad=0;ad<x.length;ad++){var ag=S.indexOf(x[ad]);if(ag!==-1&&(G===-1||ag<G)){G=ag}}var Q,U;if(G===-1){U=S.lastIndexOf("@")}else{U=S.lastIndexOf("@",G)}if(U!==-1){Q=S.slice(0,U);S=S.slice(U+1);this.auth=decodeURIComponent(Q)}G=-1;for(var ad=0;ad<A.length;ad++){var ag=S.indexOf(A[ad]);if(ag!==-1&&(G===-1||ag<G)){G=ag}}if(G===-1){G=S.length}this.host=S.slice(0,G);S=S.slice(G);this.parseHost();this.hostname=this.hostname||"";var K=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!K){var P=this.hostname.split(/\./);for(var ad=0,Y=P.length;ad<Y;ad++){var X=P[ad];if(!X){continue}if(!X.match(q)){var ak="";for(var ab=0,Z=X.length;ab<Z;ab++){if(X.charCodeAt(ab)>127){ak+="x"}else{ak+=X[ab]}}if(!ak.match(q)){var aa=P.slice(0,ad);var O=P.slice(ad+1);var R=X.match(l);if(R){aa.push(R[1]);O.unshift(R[2])}if(O.length){S="/"+O.join(".")+S}this.hostname=aa.join(".");break}}}}if(this.hostname.length>C){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!K){this.hostname=h.toASCII(this.hostname)}var V=this.port?":"+this.port:"";var af=this.hostname||"";this.host=af+V;this.href+=this.host;if(K){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(S[0]!=="/"){S="/"+S}}}if(!w[ai]){for(var ad=0,Y=z.length;ad<Y;ad++){var aj=z[ad];if(S.indexOf(aj)===-1){continue}var al=encodeURIComponent(aj);if(al===aj){al=escape(aj)}S=S.split(aj).join(al)}}var E=S.indexOf("#");if(E!==-1){this.hash=S.substr(E);S=S.slice(0,E)}var H=S.indexOf("?");if(H!==-1){this.search=S.substr(H);this.query=S.substr(H+1);if(ac){this.query=k.parse(this.query)}S=S.slice(0,H)}else{if(ac){this.search="";this.query={}}}if(S){this.pathname=S}if(n[ai]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var V=this.pathname||"";var T=this.search||"";this.path=V+T}this.href=this.format();return this};function t(D){if(f.isString(D)){D=y(D)}if(!(D instanceof v)){return v.prototype.format.call(D)}return D.format()}v.prototype.format=function(){var F=this.auth||"";if(F){F=encodeURIComponent(F);F=F.replace(/%3A/i,":");F+="@"}var J=this.protocol||"",I=this.pathname||"",H=this.hash||"",E=false,G="";if(this.host){E=F+this.host}else{if(this.hostname){E=F+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){E+=":"+this.port}}}if(this.query&&f.isObject(this.query)&&Object.keys(this.query).length){G=k.stringify(this.query)}var D=this.search||(G&&("?"+G))||"";if(J&&J.substr(-1)!==":"){J+=":"}if(this.slashes||(!J||n[J])&&E!==false){E="//"+(E||"");if(I&&I.charAt(0)!=="/"){I="/"+I}}else{if(!E){E=""}}if(H&&H.charAt(0)!=="#"){H="#"+H}if(D&&D.charAt(0)!=="?"){D="?"+D}I=I.replace(/[?#]/g,function(K){return encodeURIComponent(K)});D=D.replace("#","%23");return J+E+I+D+H};function s(E,D){return y(E,false,true).resolve(D)}v.prototype.resolve=function(D){return this.resolveObject(y(D,false,true)).format()};function o(E,D){if(!E){return D}return y(E,false,true).resolveObject(D)}v.prototype.resolveObject=function(aa){if(f.isString(aa)){var G=new v();G.parse(aa,false,true);aa=G}var M=new v();var F=Object.keys(this);for(var H=0;H<F.length;H++){var I=F[H];M[I]=this[I]}M.hash=aa.hash;if(aa.href===""){M.href=M.format();return M}if(aa.slashes&&!aa.protocol){var ab=Object.keys(aa);for(var P=0;P<ab.length;P++){var ad=ab[P];if(ad!=="protocol"){M[ad]=aa[ad]}}if(n[M.protocol]&&M.hostname&&!M.pathname){M.path=M.pathname="/"}M.href=M.format();return M}if(aa.protocol&&aa.protocol!==M.protocol){if(!n[aa.protocol]){var R=Object.keys(aa);for(var O=0;O<R.length;O++){var W=R[O];M[W]=aa[W]}M.href=M.format();return M}M.protocol=aa.protocol;if(!aa.host&&!u[aa.protocol]){var ac=(aa.pathname||"").split("/");while(ac.length&&!(aa.host=ac.shift())){}if(!aa.host){aa.host=""}if(!aa.hostname){aa.hostname=""}if(ac[0]!==""){ac.unshift("")}if(ac.length<2){ac.unshift("")}M.pathname=ac.join("/")}else{M.pathname=aa.pathname}M.search=aa.search;M.query=aa.query;M.host=aa.host||"";M.auth=aa.auth;M.hostname=aa.hostname||aa.host;M.port=aa.port;if(M.pathname||M.search){var T=M.pathname||"";var Q=M.search||"";M.path=T+Q}M.slashes=M.slashes||aa.slashes;M.href=M.format();return M}var S=(M.pathname&&M.pathname.charAt(0)==="/"),Y=(aa.host||aa.pathname&&aa.pathname.charAt(0)==="/"),X=(Y||S||(M.host&&aa.pathname)),J=X,N=M.pathname&&M.pathname.split("/")||[],ac=aa.pathname&&aa.pathname.split("/")||[],E=M.protocol&&!n[M.protocol];if(E){M.hostname="";M.port=null;if(M.host){if(N[0]===""){N[0]=M.host}else{N.unshift(M.host)}}M.host="";if(aa.protocol){aa.hostname=null;aa.port=null;if(aa.host){if(ac[0]===""){ac[0]=aa.host}else{ac.unshift(aa.host)}}aa.host=null}X=X&&(ac[0]===""||N[0]==="")}if(Y){M.host=(aa.host||aa.host==="")?aa.host:M.host;M.hostname=(aa.hostname||aa.hostname==="")?aa.hostname:M.hostname;M.search=aa.search;M.query=aa.query;N=ac}else{if(ac.length){if(!N){N=[]}N.pop();N=N.concat(ac);M.search=aa.search;M.query=aa.query}else{if(!f.isNullOrUndefined(aa.search)){if(E){M.hostname=M.host=N.shift();var V=M.host&&M.host.indexOf("@")>0?M.host.split("@"):false;if(V){M.auth=V.shift();M.host=M.hostname=V.shift()}}M.search=aa.search;M.query=aa.query;if(!f.isNull(M.pathname)||!f.isNull(M.search)){M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")}M.href=M.format();return M}}}if(!N.length){M.pathname=null;if(M.search){M.path="/"+M.search}else{M.path=null}M.href=M.format();return M}var K=N.slice(-1)[0];var D=((M.host||aa.host||N.length>1)&&(K==="."||K==="..")||K==="");var L=0;for(var Z=N.length;Z>=0;Z--){K=N[Z];if(K==="."){N.splice(Z,1)}else{if(K===".."){N.splice(Z,1);L++}else{if(L){N.splice(Z,1);L--}}}}if(!X&&!J){for(;L--;L){N.unshift("..")}}if(X&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")){N.unshift("")}if(D&&(N.join("/").substr(-1)!=="/")){N.push("")}var U=N[0]===""||(N[0]&&N[0].charAt(0)==="/");if(E){M.hostname=M.host=U?"":N.length?N.shift():"";var V=M.host&&M.host.indexOf("@")>0?M.host.split("@"):false;if(V){M.auth=V.shift();M.host=M.hostname=V.shift()}}X=X||(M.host&&N.length);if(X&&!U){N.unshift("")}if(!N.length){M.pathname=null;M.path=null}else{M.pathname=N.join("/")}if(!f.isNull(M.pathname)||!f.isNull(M.search)){M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")}M.auth=aa.auth||M.auth;M.slashes=M.slashes||aa.slashes;M.href=M.format();return M};v.prototype.parseHost=function(){var E=this.host;var D=e.exec(E);if(D){D=D[0];if(D!==":"){this.port=D.substr(1)}E=E.substr(0,E.length-D.length)}if(E){this.hostname=E}}},{"./util":87,punycode:67,querystring:70}],87:[function(f,g,e){g.exports={isString:function(h){return typeof(h)==="string"},isObject:function(h){return typeof(h)==="object"&&h!==null},isNull:function(h){return h===null},isNullOrUndefined:function(h){return h==null}}},{}],88:[function(f,g,e){g.exports=function h(i){return i&&typeof i==="object"&&typeof i.copy==="function"&&typeof i.fill==="function"&&typeof i.readUInt8==="function"}},{}],89:[function(f,g,e){(function(E,G){var D=/%[sdj%]/g;e.format=function(U){if(!B(U)){var T=[];for(var S=0;S<arguments.length;S++){T.push(O(arguments[S]))}return T.join(" ")}var S=1;var R=arguments;var Q=R.length;var V=String(U).replace(D,function(W){if(W==="%%"){return"%"}if(S>=Q){return W}switch(W){case"%s":return String(R[S++]);case"%d":return Number(R[S++]);case"%j":try{return JSON.stringify(R[S++])}catch(X){return"[Circular]"}default:return W}});for(var P=R[S];S<Q;P=R[++S]){if(F(P)||!v(P)){V+=" "+P}else{V+=" "+O(P)}}return V};e.deprecate=function(R,S){if(j(G.process)){return function(){return e.deprecate(R,S).apply(this,arguments)}}if(E.noDeprecation===true){return R}var Q=false;function P(){if(!Q){if(E.throwDeprecation){throw new Error(S)}else{if(E.traceDeprecation){console.trace(S)}else{console.error(S)}}Q=true}return R.apply(this,arguments)}return P};var x={};var z;e.debuglog=function(Q){if(j(z)){z=E.env.NODE_DEBUG||""}Q=Q.toUpperCase();if(!x[Q]){if(new RegExp("\\b"+Q+"\\b","i").test(z)){var P=E.pid;x[Q]=function(){var R=e.format.apply(e,arguments);console.error("%s %d: %s",Q,P,R)}}else{x[Q]=function(){}}}return x[Q]};function O(R,Q){var P={seen:[],stylize:s};if(arguments.length>=3){P.depth=arguments[2]}if(arguments.length>=4){P.colors=arguments[3]}if(u(Q)){P.showHidden=Q}else{if(Q){e._extend(P,Q)}}if(j(P.showHidden)){P.showHidden=false}if(j(P.depth)){P.depth=2}if(j(P.colors)){P.colors=false}if(j(P.customInspect)){P.customInspect=true}if(P.colors){P.stylize=h}return n(P,R,P.depth)}e.inspect=O;O.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};O.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function h(R,Q){var P=O.styles[Q];if(P){return"\u001b["+O.colors[P][0]+"m"+R+"\u001b["+O.colors[P][1]+"m"}else{return R}}function s(Q,P){return Q}function q(Q){var P={};Q.forEach(function(S,R){P[S]=true});return P}function n(ab,Z,X){if(ab.customInspect&&Z&&i(Z.inspect)&&Z.inspect!==e.inspect&&!(Z.constructor&&Z.constructor.prototype===Z)){var Y=Z.inspect(X,ab);if(!B(Y)){Y=n(ab,Y,X)}return Y}var V=A(ab,Z);if(V){return V}var aa=Object.keys(Z);var P=q(aa);if(ab.showHidden){aa=Object.getOwnPropertyNames(Z)}if(J(Z)&&(aa.indexOf("message")>=0||aa.indexOf("description")>=0)){return o(Z)}if(aa.length===0){if(i(Z)){var Q=Z.name?": "+Z.name:"";return ab.stylize("[Function"+Q+"]","special")}if(H(Z)){return ab.stylize(RegExp.prototype.toString.call(Z),"regexp")}if(N(Z)){return ab.stylize(Date.prototype.toString.call(Z),"date")}if(J(Z)){return o(Z)}}var R="",W=false,U=["{","}"];if(y(Z)){W=true;U=["[","]"]}if(i(Z)){var T=Z.name?": "+Z.name:"";R=" [Function"+T+"]"}if(H(Z)){R=" "+RegExp.prototype.toString.call(Z)}if(N(Z)){R=" "+Date.prototype.toUTCString.call(Z)}if(J(Z)){R=" "+o(Z)}if(aa.length===0&&(!W||Z.length==0)){return U[0]+R+U[1]}if(X<0){if(H(Z)){return ab.stylize(RegExp.prototype.toString.call(Z),"regexp")}else{return ab.stylize("[Object]","special")}}ab.seen.push(Z);var S;if(W){S=M(ab,Z,X,P,aa)}else{S=aa.map(function(ac){return l(ab,Z,X,P,ac,W)})}ab.seen.pop();return K(S,R,U)}function A(P,Q){if(j(Q)){return P.stylize("undefined","undefined")}if(B(Q)){var R="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(R,"string")}if(C(Q)){return P.stylize(""+Q,"number")}if(u(Q)){return P.stylize(""+Q,"boolean")}if(F(Q)){return P.stylize("null","null")}}function o(P){return"["+Error.prototype.toString.call(P)+"]"}function M(Q,V,T,W,U){var R=[];for(var S=0,P=V.length;S<P;++S){if(w(V,String(S))){R.push(l(Q,V,T,W,String(S),true))}else{R.push("")}}U.forEach(function(X){if(!X.match(/^\d+$/)){R.push(l(Q,V,T,W,X,true))}});return R}function l(X,V,T,P,W,S){var Q,U,R;R=Object.getOwnPropertyDescriptor(V,W)||{value:V[W]};if(R.get){if(R.set){U=X.stylize("[Getter/Setter]","special")}else{U=X.stylize("[Getter]","special")}}else{if(R.set){U=X.stylize("[Setter]","special")}}if(!w(P,W)){Q="["+W+"]"}if(!U){if(X.seen.indexOf(R.value)<0){if(F(T)){U=n(X,R.value,null)}else{U=n(X,R.value,T-1)}if(U.indexOf("\n")>-1){if(S){U=U.split("\n").map(function(Y){return"  "+Y}).join("\n").substr(2)}else{U="\n"+U.split("\n").map(function(Y){return"   "+Y}).join("\n")}}}else{U=X.stylize("[Circular]","special")}}if(j(Q)){if(S&&W.match(/^\d+$/)){return U}Q=JSON.stringify(""+W);if(Q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){Q=Q.substr(1,Q.length-2);Q=X.stylize(Q,"name")}else{Q=Q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");Q=X.stylize(Q,"string")}}return Q+": "+U}function K(P,R,T){var S=0;var Q=P.reduce(function(U,V){S++;if(V.indexOf("\n")>=0){S++}return U+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(Q>60){return T[0]+(R===""?"":R+"\n ")+" "+P.join(",\n  ")+" "+T[1]}return T[0]+R+" "+P.join(", ")+" "+T[1]}function y(P){return Array.isArray(P)}e.isArray=y;function u(P){return typeof P==="boolean"}e.isBoolean=u;function F(P){return P===null}e.isNull=F;function t(P){return P==null}e.isNullOrUndefined=t;function C(P){return typeof P==="number"}e.isNumber=C;function B(P){return typeof P==="string"}e.isString=B;function m(P){return typeof P==="symbol"}e.isSymbol=m;function j(P){return P===void 0}e.isUndefined=j;function H(P){return v(P)&&p(P)==="[object RegExp]"}e.isRegExp=H;function v(P){return typeof P==="object"&&P!==null}e.isObject=v;function N(P){return v(P)&&p(P)==="[object Date]"}e.isDate=N;function J(P){return v(P)&&(p(P)==="[object Error]"||P instanceof Error)}e.isError=J;function i(P){return typeof P==="function"}e.isFunction=i;function L(P){return P===null||typeof P==="boolean"||typeof P==="number"||typeof P==="string"||typeof P==="symbol"||typeof P==="undefined"}e.isPrimitive=L;e.isBuffer=f("./support/isBuffer");function p(P){return Object.prototype.toString.call(P)}function I(P){return P<10?"0"+P.toString(10):P.toString(10)}var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var Q=new Date();var P=[I(Q.getHours()),I(Q.getMinutes()),I(Q.getSeconds())].join(":");return[Q.getDate(),r[Q.getMonth()],P].join(" ")}e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))};e.inherits=f("inherits");e._extend=function(P,S){if(!S||!v(S)){return P}var R=Object.keys(S);var Q=R.length;while(Q--){P[R[Q]]=S[R[Q]]}return P};function w(P,Q){return Object.prototype.hasOwnProperty.call(P,Q)}}).call(this,f("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":88,_process:66,inherits:63}]},{},[6])(6)});